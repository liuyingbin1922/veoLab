/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/generate/route";
exports.ids = ["app/api/generate/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "node:events":
/*!******************************!*\
  !*** external "node:events" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:events");

/***/ }),

/***/ "node:fs":
/*!**************************!*\
  !*** external "node:fs" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:fs");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:path");

/***/ }),

/***/ "node:process":
/*!*******************************!*\
  !*** external "node:process" ***!
  \*******************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:process");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:util");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@15.0.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fgenerate%2Froute&page=%2Fapi%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate%2Froute.ts&appDir=%2FUsers%2Fyingbin%2FDocuments%2Fcodes%2FaiPro%2FveoLab%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fyingbin%2FDocuments%2Fcodes%2FaiPro%2FveoLab&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.0.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fgenerate%2Froute&page=%2Fapi%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate%2Froute.ts&appDir=%2FUsers%2Fyingbin%2FDocuments%2Fcodes%2FaiPro%2FveoLab%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fyingbin%2FDocuments%2Fcodes%2FaiPro%2FveoLab&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/.pnpm/next@15.0.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/.pnpm/next@15.0.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/.pnpm/next@15.0.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_yingbin_Documents_codes_aiPro_veoLab_app_api_generate_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/generate/route.ts */ \"(rsc)/./app/api/generate/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/generate/route\",\n        pathname: \"/api/generate\",\n        filename: \"route\",\n        bundlePath: \"app/api/generate/route\"\n    },\n    resolvedPagePath: \"/Users/yingbin/Documents/codes/aiPro/veoLab/app/api/generate/route.ts\",\n    nextConfigOutput,\n    userland: _Users_yingbin_Documents_codes_aiPro_veoLab_app_api_generate_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNS4wLjNfcmVhY3QtZG9tQDE4LjMuMV9yZWFjdEAxOC4zLjFfX3JlYWN0QDE4LjMuMS9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZnZW5lcmF0ZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGZ2VuZXJhdGUlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZnZW5lcmF0ZSUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnlpbmdiaW4lMkZEb2N1bWVudHMlMkZjb2RlcyUyRmFpUHJvJTJGdmVvTGFiJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnlpbmdiaW4lMkZEb2N1bWVudHMlMkZjb2RlcyUyRmFpUHJvJTJGdmVvTGFiJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUNxQjtBQUNsRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUMwRjs7QUFFMUYiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL3lpbmdiaW4vRG9jdW1lbnRzL2NvZGVzL2FpUHJvL3Zlb0xhYi9hcHAvYXBpL2dlbmVyYXRlL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9nZW5lcmF0ZS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2dlbmVyYXRlXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9nZW5lcmF0ZS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9Vc2Vycy95aW5nYmluL0RvY3VtZW50cy9jb2Rlcy9haVByby92ZW9MYWIvYXBwL2FwaS9nZW5lcmF0ZS9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHdvcmtBc3luY1N0b3JhZ2UsXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@15.0.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fgenerate%2Froute&page=%2Fapi%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate%2Froute.ts&appDir=%2FUsers%2Fyingbin%2FDocuments%2Fcodes%2FaiPro%2FveoLab%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fyingbin%2FDocuments%2Fcodes%2FaiPro%2FveoLab&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@15.0.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!*********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.0.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \*********************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/next@15.0.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!*********************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.0.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \*********************************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./app/api/generate/route.ts":
/*!***********************************!*\
  !*** ./app/api/generate/route.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/.pnpm/next@15.0.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_cache__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/cache */ \"(rsc)/./lib/cache.ts\");\n/* harmony import */ var _lib_content__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/content */ \"(rsc)/./lib/content.ts\");\n/* harmony import */ var _lib_gemini__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/gemini */ \"(rsc)/./lib/gemini.ts\");\n/* harmony import */ var _lib_rateLimit__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/rateLimit */ \"(rsc)/./lib/rateLimit.ts\");\n/* harmony import */ var _lib_schema__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/schema */ \"(rsc)/./lib/schema.ts\");\n\n\n\n\n\n\nfunction clientIp(req) {\n    const header = req.headers.get(\"x-forwarded-for\");\n    if (header) return header.split(\",\")[0];\n    // @ts-expect-error NextRequest has ip in node runtime\n    return req.ip || \"anonymous\";\n}\nasync function retry(fn, attempts = 2) {\n    let lastError = null;\n    for(let i = 0; i < attempts; i++){\n        try {\n            return await fn();\n        } catch (error) {\n            lastError = error;\n        }\n    }\n    throw lastError instanceof Error ? lastError : new Error(\"Unknown error\");\n}\nasync function POST(req) {\n    try {\n        const body = await req.json();\n        const input = _lib_schema__WEBPACK_IMPORTED_MODULE_5__.requestSchema.parse(body);\n        const ip = clientIp(req);\n        const limit = (0,_lib_rateLimit__WEBPACK_IMPORTED_MODULE_4__.checkRateLimit)(ip, Number(process.env.RATE_LIMIT_PER_IP ?? 3));\n        if (!limit.allowed) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                ok: false,\n                error: \"Rate limit exceeded\",\n                meta: {\n                    resetAt: limit.resetAt\n                }\n            }, {\n                status: 429\n            });\n        }\n        const contentModel = process.env.GEMINI_TEXT_MODEL || process.env.GEMINI_MODEL || \"gemini-1.5-pro\";\n        const storyboardModel = process.env.GEMINI_MODEL || \"gemini-1.5-pro\";\n        const key = (0,_lib_cache__WEBPACK_IMPORTED_MODULE_1__.cacheKey)(input);\n        const cached = (0,_lib_cache__WEBPACK_IMPORTED_MODULE_1__.getCache)(key);\n        if (cached) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                ok: true,\n                data: cached,\n                meta: {\n                    cached: true,\n                    provider: {\n                        content: contentModel,\n                        storyboard: storyboardModel\n                    },\n                    latency_ms: 0\n                }\n            });\n        }\n        const start = Date.now();\n        const content = await retry(()=>(0,_lib_content__WEBPACK_IMPORTED_MODULE_2__.generateGeminiContent)(input));\n        const storyboard = await retry(()=>(0,_lib_gemini__WEBPACK_IMPORTED_MODULE_3__.generateStoryboard)(content.voiceover, input, content));\n        (0,_lib_cache__WEBPACK_IMPORTED_MODULE_1__.setCache)(key, storyboard);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: true,\n            data: storyboard,\n            meta: {\n                cached: false,\n                provider: {\n                    content: contentModel,\n                    storyboard: storyboardModel\n                },\n                latency_ms: Date.now() - start\n            }\n        });\n    } catch (error) {\n        console.error(\"/api/generate error\", error);\n        const message = error instanceof Error ? error.message : \"Unexpected error\";\n        const status = message.toLowerCase().includes(\"rate limit\") ? 429 : message.toLowerCase().includes(\"invalid\") ? 400 : 500;\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: false,\n            error: message\n        }, {\n            status\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3RILE9BQU92RCxxREFBWUEsQ0FBQ3dCLElBQUksQ0FBQztZQUFFUyxJQUFJO1lBQU9iLE9BQU9pQztRQUFRLEdBQUc7WUFBRWpCO1FBQU87SUFDbkU7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL3lpbmdiaW4vRG9jdW1lbnRzL2NvZGVzL2FpUHJvL3Zlb0xhYi9hcHAvYXBpL2dlbmVyYXRlL3JvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcbmltcG9ydCB7IGNhY2hlS2V5LCBnZXRDYWNoZSwgc2V0Q2FjaGUgfSBmcm9tIFwiQC9saWIvY2FjaGVcIjtcbmltcG9ydCB7IGdlbmVyYXRlR2VtaW5pQ29udGVudCB9IGZyb20gXCJAL2xpYi9jb250ZW50XCI7XG5pbXBvcnQgeyBnZW5lcmF0ZVN0b3J5Ym9hcmQgfSBmcm9tIFwiQC9saWIvZ2VtaW5pXCI7XG5pbXBvcnQgeyBjaGVja1JhdGVMaW1pdCB9IGZyb20gXCJAL2xpYi9yYXRlTGltaXRcIjtcbmltcG9ydCB7IHJlcXVlc3RTY2hlbWEgfSBmcm9tIFwiQC9saWIvc2NoZW1hXCI7XG5cbmZ1bmN0aW9uIGNsaWVudElwKHJlcTogTmV4dFJlcXVlc3QpIHtcbiAgY29uc3QgaGVhZGVyID0gcmVxLmhlYWRlcnMuZ2V0KFwieC1mb3J3YXJkZWQtZm9yXCIpO1xuICBpZiAoaGVhZGVyKSByZXR1cm4gaGVhZGVyLnNwbGl0KFwiLFwiKVswXTtcbiAgLy8gQHRzLWV4cGVjdC1lcnJvciBOZXh0UmVxdWVzdCBoYXMgaXAgaW4gbm9kZSBydW50aW1lXG4gIHJldHVybiByZXEuaXAgfHwgXCJhbm9ueW1vdXNcIjtcbn1cblxuYXN5bmMgZnVuY3Rpb24gcmV0cnk8VD4oZm46ICgpID0+IFByb21pc2U8VD4sIGF0dGVtcHRzID0gMik6IFByb21pc2U8VD4ge1xuICBsZXQgbGFzdEVycm9yOiB1bmtub3duID0gbnVsbDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhdHRlbXB0czsgaSsrKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCBmbigpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsYXN0RXJyb3IgPSBlcnJvcjtcbiAgICB9XG4gIH1cbiAgdGhyb3cgbGFzdEVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBsYXN0RXJyb3IgOiBuZXcgRXJyb3IoXCJVbmtub3duIGVycm9yXCIpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXE6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcS5qc29uKCk7XG4gICAgY29uc3QgaW5wdXQgPSByZXF1ZXN0U2NoZW1hLnBhcnNlKGJvZHkpO1xuICAgIGNvbnN0IGlwID0gY2xpZW50SXAocmVxKTtcbiAgICBjb25zdCBsaW1pdCA9IGNoZWNrUmF0ZUxpbWl0KGlwLCBOdW1iZXIocHJvY2Vzcy5lbnYuUkFURV9MSU1JVF9QRVJfSVAgPz8gMykpO1xuICAgIGlmICghbGltaXQuYWxsb3dlZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IG9rOiBmYWxzZSwgZXJyb3I6IFwiUmF0ZSBsaW1pdCBleGNlZWRlZFwiLCBtZXRhOiB7IHJlc2V0QXQ6IGxpbWl0LnJlc2V0QXQgfSB9LFxuICAgICAgICB7IHN0YXR1czogNDI5IH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgY29udGVudE1vZGVsID0gcHJvY2Vzcy5lbnYuR0VNSU5JX1RFWFRfTU9ERUwgfHwgcHJvY2Vzcy5lbnYuR0VNSU5JX01PREVMIHx8IFwiZ2VtaW5pLTEuNS1wcm9cIjtcbiAgICBjb25zdCBzdG9yeWJvYXJkTW9kZWwgPSBwcm9jZXNzLmVudi5HRU1JTklfTU9ERUwgfHwgXCJnZW1pbmktMS41LXByb1wiO1xuICAgIGNvbnN0IGtleSA9IGNhY2hlS2V5KGlucHV0KTtcbiAgICBjb25zdCBjYWNoZWQgPSBnZXRDYWNoZShrZXkpO1xuICAgIGlmIChjYWNoZWQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBkYXRhOiBjYWNoZWQsXG4gICAgICAgIG1ldGE6IHtcbiAgICAgICAgICBjYWNoZWQ6IHRydWUsXG4gICAgICAgICAgcHJvdmlkZXI6IHsgY29udGVudDogY29udGVudE1vZGVsLCBzdG9yeWJvYXJkOiBzdG9yeWJvYXJkTW9kZWwgfSxcbiAgICAgICAgICBsYXRlbmN5X21zOiAwLFxuICAgICAgICB9LFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCByZXRyeSgoKSA9PiBnZW5lcmF0ZUdlbWluaUNvbnRlbnQoaW5wdXQpKTtcbiAgICBjb25zdCBzdG9yeWJvYXJkID0gYXdhaXQgcmV0cnkoKCkgPT4gZ2VuZXJhdGVTdG9yeWJvYXJkKGNvbnRlbnQudm9pY2VvdmVyLCBpbnB1dCwgY29udGVudCkpO1xuXG4gICAgc2V0Q2FjaGUoa2V5LCBzdG9yeWJvYXJkKTtcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBvazogdHJ1ZSxcbiAgICAgIGRhdGE6IHN0b3J5Ym9hcmQsXG4gICAgICBtZXRhOiB7XG4gICAgICAgIGNhY2hlZDogZmFsc2UsXG4gICAgICAgIHByb3ZpZGVyOiB7IGNvbnRlbnQ6IGNvbnRlbnRNb2RlbCwgc3Rvcnlib2FyZDogc3Rvcnlib2FyZE1vZGVsIH0sXG4gICAgICAgIGxhdGVuY3lfbXM6IERhdGUubm93KCkgLSBzdGFydCxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIi9hcGkvZ2VuZXJhdGUgZXJyb3JcIiwgZXJyb3IpO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVW5leHBlY3RlZCBlcnJvclwiO1xuICAgIGNvbnN0IHN0YXR1cyA9IG1lc3NhZ2UudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcInJhdGUgbGltaXRcIikgPyA0MjkgOiBtZXNzYWdlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoXCJpbnZhbGlkXCIpID8gNDAwIDogNTAwO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG9rOiBmYWxzZSwgZXJyb3I6IG1lc3NhZ2UgfSwgeyBzdGF0dXMgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJjYWNoZUtleSIsImdldENhY2hlIiwic2V0Q2FjaGUiLCJnZW5lcmF0ZUdlbWluaUNvbnRlbnQiLCJnZW5lcmF0ZVN0b3J5Ym9hcmQiLCJjaGVja1JhdGVMaW1pdCIsInJlcXVlc3RTY2hlbWEiLCJjbGllbnRJcCIsInJlcSIsImhlYWRlciIsImhlYWRlcnMiLCJnZXQiLCJzcGxpdCIsImlwIiwicmV0cnkiLCJmbiIsImF0dGVtcHRzIiwibGFzdEVycm9yIiwiaSIsImVycm9yIiwiRXJyb3IiLCJQT1NUIiwiYm9keSIsImpzb24iLCJpbnB1dCIsInBhcnNlIiwibGltaXQiLCJOdW1iZXIiLCJwcm9jZXNzIiwiZW52IiwiUkFURV9MSU1JVF9QRVJfSVAiLCJhbGxvd2VkIiwib2siLCJtZXRhIiwicmVzZXRBdCIsInN0YXR1cyIsImNvbnRlbnRNb2RlbCIsIkdFTUlOSV9URVhUX01PREVMIiwiR0VNSU5JX01PREVMIiwic3Rvcnlib2FyZE1vZGVsIiwia2V5IiwiY2FjaGVkIiwiZGF0YSIsInByb3ZpZGVyIiwiY29udGVudCIsInN0b3J5Ym9hcmQiLCJsYXRlbmN5X21zIiwic3RhcnQiLCJEYXRlIiwibm93Iiwidm9pY2VvdmVyIiwiY29uc29sZSIsIm1lc3NhZ2UiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/generate/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/cache.ts":
/*!**********************!*\
  !*** ./lib/cache.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cacheKey: () => (/* binding */ cacheKey),\n/* harmony export */   getCache: () => (/* binding */ getCache),\n/* harmony export */   setCache: () => (/* binding */ setCache)\n/* harmony export */ });\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_0__);\n\nconst TTL_MS = 7 * 24 * 60 * 60 * 1000;\nconst globalCache = globalThis;\nconst cache = globalCache.__storyboardCache ||= new Map();\nfunction cacheKey(input) {\n    return crypto__WEBPACK_IMPORTED_MODULE_0___default().createHash(\"sha256\").update(JSON.stringify({\n        topic: input.topic,\n        platform: input.platform,\n        duration: input.duration,\n        template: input.template,\n        persona: input.persona,\n        must_include: input.must_include,\n        avoid: input.avoid\n    })).digest(\"hex\");\n}\nfunction getCache(key) {\n    const hit = cache.get(key);\n    if (!hit) return null;\n    if (Date.now() > hit.expiresAt) {\n        cache.delete(key);\n        return null;\n    }\n    return hit.value;\n}\nfunction setCache(key, value) {\n    cache.set(key, {\n        value,\n        expiresAt: Date.now() + TTL_MS\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvY2FjaGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBNEI7QUFRNUIsTUFBTUMsU0FBUyxJQUFJLEtBQUssS0FBSyxLQUFLO0FBRWxDLE1BQU1DLGNBQWNDO0FBRXBCLE1BQU1DLFFBQVNGLFlBQVlHLGlCQUFpQixLQUFLLElBQUlDO0FBRTlDLFNBQVNDLFNBQVNDLEtBQXNCO0lBQzdDLE9BQU9SLHdEQUNNLENBQUMsVUFDWFUsTUFBTSxDQUNMQyxLQUFLQyxTQUFTLENBQUM7UUFDYkMsT0FBT0wsTUFBTUssS0FBSztRQUNsQkMsVUFBVU4sTUFBTU0sUUFBUTtRQUN4QkMsVUFBVVAsTUFBTU8sUUFBUTtRQUN4QkMsVUFBVVIsTUFBTVEsUUFBUTtRQUN4QkMsU0FBU1QsTUFBTVMsT0FBTztRQUN0QkMsY0FBY1YsTUFBTVUsWUFBWTtRQUNoQ0MsT0FBT1gsTUFBTVcsS0FBSztJQUNwQixJQUVEQyxNQUFNLENBQUM7QUFDWjtBQUVPLFNBQVNDLFNBQVNDLEdBQVc7SUFDbEMsTUFBTUMsTUFBTW5CLE1BQU1vQixHQUFHLENBQUNGO0lBQ3RCLElBQUksQ0FBQ0MsS0FBSyxPQUFPO0lBQ2pCLElBQUlFLEtBQUtDLEdBQUcsS0FBS0gsSUFBSUksU0FBUyxFQUFFO1FBQzlCdkIsTUFBTXdCLE1BQU0sQ0FBQ047UUFDYixPQUFPO0lBQ1Q7SUFDQSxPQUFPQyxJQUFJTSxLQUFLO0FBQ2xCO0FBRU8sU0FBU0MsU0FBU1IsR0FBVyxFQUFFTyxLQUF1QjtJQUMzRHpCLE1BQU0yQixHQUFHLENBQUNULEtBQUs7UUFBRU87UUFBT0YsV0FBV0YsS0FBS0MsR0FBRyxLQUFLekI7SUFBTztBQUN6RCIsInNvdXJjZXMiOlsiL1VzZXJzL3lpbmdiaW4vRG9jdW1lbnRzL2NvZGVzL2FpUHJvL3Zlb0xhYi9saWIvY2FjaGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNyeXB0byBmcm9tIFwiY3J5cHRvXCI7XG5pbXBvcnQgeyBHZW5lcmF0ZVJlcXVlc3QsIFN0b3J5Ym9hcmRSZXN1bHQgfSBmcm9tIFwiLi9zY2hlbWFcIjtcblxudHlwZSBDYWNoZUVudHJ5ID0ge1xuICB2YWx1ZTogU3Rvcnlib2FyZFJlc3VsdDtcbiAgZXhwaXJlc0F0OiBudW1iZXI7XG59O1xuXG5jb25zdCBUVExfTVMgPSA3ICogMjQgKiA2MCAqIDYwICogMTAwMDtcblxuY29uc3QgZ2xvYmFsQ2FjaGUgPSBnbG9iYWxUaGlzIGFzIHVua25vd24gYXMgeyBfX3N0b3J5Ym9hcmRDYWNoZT86IE1hcDxzdHJpbmcsIENhY2hlRW50cnk+IH07XG5cbmNvbnN0IGNhY2hlID0gKGdsb2JhbENhY2hlLl9fc3Rvcnlib2FyZENhY2hlIHx8PSBuZXcgTWFwPHN0cmluZywgQ2FjaGVFbnRyeT4oKSk7XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWNoZUtleShpbnB1dDogR2VuZXJhdGVSZXF1ZXN0KTogc3RyaW5nIHtcbiAgcmV0dXJuIGNyeXB0b1xuICAgIC5jcmVhdGVIYXNoKFwic2hhMjU2XCIpXG4gICAgLnVwZGF0ZShcbiAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdG9waWM6IGlucHV0LnRvcGljLFxuICAgICAgICBwbGF0Zm9ybTogaW5wdXQucGxhdGZvcm0sXG4gICAgICAgIGR1cmF0aW9uOiBpbnB1dC5kdXJhdGlvbixcbiAgICAgICAgdGVtcGxhdGU6IGlucHV0LnRlbXBsYXRlLFxuICAgICAgICBwZXJzb25hOiBpbnB1dC5wZXJzb25hLFxuICAgICAgICBtdXN0X2luY2x1ZGU6IGlucHV0Lm11c3RfaW5jbHVkZSxcbiAgICAgICAgYXZvaWQ6IGlucHV0LmF2b2lkLFxuICAgICAgfSlcbiAgICApXG4gICAgLmRpZ2VzdChcImhleFwiKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldENhY2hlKGtleTogc3RyaW5nKTogU3Rvcnlib2FyZFJlc3VsdCB8IG51bGwge1xuICBjb25zdCBoaXQgPSBjYWNoZS5nZXQoa2V5KTtcbiAgaWYgKCFoaXQpIHJldHVybiBudWxsO1xuICBpZiAoRGF0ZS5ub3coKSA+IGhpdC5leHBpcmVzQXQpIHtcbiAgICBjYWNoZS5kZWxldGUoa2V5KTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gaGl0LnZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0Q2FjaGUoa2V5OiBzdHJpbmcsIHZhbHVlOiBTdG9yeWJvYXJkUmVzdWx0KSB7XG4gIGNhY2hlLnNldChrZXksIHsgdmFsdWUsIGV4cGlyZXNBdDogRGF0ZS5ub3coKSArIFRUTF9NUyB9KTtcbn1cbiJdLCJuYW1lcyI6WyJjcnlwdG8iLCJUVExfTVMiLCJnbG9iYWxDYWNoZSIsImdsb2JhbFRoaXMiLCJjYWNoZSIsIl9fc3Rvcnlib2FyZENhY2hlIiwiTWFwIiwiY2FjaGVLZXkiLCJpbnB1dCIsImNyZWF0ZUhhc2giLCJ1cGRhdGUiLCJKU09OIiwic3RyaW5naWZ5IiwidG9waWMiLCJwbGF0Zm9ybSIsImR1cmF0aW9uIiwidGVtcGxhdGUiLCJwZXJzb25hIiwibXVzdF9pbmNsdWRlIiwiYXZvaWQiLCJkaWdlc3QiLCJnZXRDYWNoZSIsImtleSIsImhpdCIsImdldCIsIkRhdGUiLCJub3ciLCJleHBpcmVzQXQiLCJkZWxldGUiLCJ2YWx1ZSIsInNldENhY2hlIiwic2V0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/cache.ts\n");

/***/ }),

/***/ "(rsc)/./lib/content.ts":
/*!************************!*\
  !*** ./lib/content.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateGeminiContent: () => (/* binding */ generateGeminiContent)\n/* harmony export */ });\n/* harmony import */ var _prompts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./prompts */ \"(rsc)/./lib/prompts.ts\");\n/* harmony import */ var _vertex__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./vertex */ \"(rsc)/./lib/vertex.ts\");\n\n\nconst GEMINI_TEXT_MODEL = process.env.GEMINI_TEXT_MODEL || process.env.GEMINI_MODEL || \"gemini-1.5-pro\";\nasync function requestGeminiText(prompt) {\n    const model = (0,_vertex__WEBPACK_IMPORTED_MODULE_1__.getGenerativeModel)(GEMINI_TEXT_MODEL);\n    const result = await model.generateContent({\n        contents: [\n            {\n                role: \"user\",\n                parts: [\n                    {\n                        text: prompt\n                    }\n                ]\n            }\n        ],\n        generationConfig: {\n            temperature: 0.6,\n            topK: 40,\n            topP: 0.95,\n            maxOutputTokens: 1200\n        }\n    });\n    return result.response;\n}\nfunction extractText(response) {\n    const payload = response?.response ?? response;\n    const candidates = payload?.candidates || [];\n    const first = candidates[0];\n    const parts = first?.content?.parts || [];\n    const textPart = parts.find((part)=>part.text);\n    return textPart?.text || \"\";\n}\nfunction tryParseJSON(text) {\n    if (!text) return null;\n    try {\n        return JSON.parse(text);\n    } catch  {\n        return null;\n    }\n}\nfunction extractJSON(text) {\n    const match = text.match(/\\{[\\s\\S]*\\}/);\n    return match?.[0] ?? \"\";\n}\nasync function generateGeminiContent(input) {\n    const prompt = (0,_prompts__WEBPACK_IMPORTED_MODULE_0__.buildContentPrompt)(input);\n    const response = await requestGeminiText(prompt);\n    const text = extractText(response);\n    const parsed = tryParseJSON(text) ?? tryParseJSON(extractJSON(text));\n    if (!parsed) {\n        throw new Error(\"Gemini response is not valid JSON\");\n    }\n    return {\n        titles: (0,_prompts__WEBPACK_IMPORTED_MODULE_0__.enforceTitles)(parsed.titles || []),\n        hook: parsed.hook || \"\",\n        voiceover: parsed.voiceover || \"\",\n        cta: parsed.cta || \"\"\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvY29udGVudC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFDOEQ7QUFDaEI7QUFFOUMsTUFBTUcsb0JBQW9CQyxRQUFRQyxHQUFHLENBQUNGLGlCQUFpQixJQUFJQyxRQUFRQyxHQUFHLENBQUNDLFlBQVksSUFBSTtBQVN2RixlQUFlQyxrQkFBa0JDLE1BQWM7SUFDN0MsTUFBTUMsUUFBUVAsMkRBQWtCQSxDQUFDQztJQUNqQyxNQUFNTyxTQUFTLE1BQU1ELE1BQU1FLGVBQWUsQ0FBQztRQUN6Q0MsVUFBVTtZQUNSO2dCQUNFQyxNQUFNO2dCQUNOQyxPQUFPO29CQUFDO3dCQUFFQyxNQUFNUDtvQkFBTztpQkFBRTtZQUMzQjtTQUNEO1FBQ0RRLGtCQUFrQjtZQUNoQkMsYUFBYTtZQUNiQyxNQUFNO1lBQ05DLE1BQU07WUFDTkMsaUJBQWlCO1FBQ25CO0lBQ0Y7SUFDQSxPQUFPVixPQUFPVyxRQUFRO0FBQ3hCO0FBRUEsU0FBU0MsWUFBWUQsUUFBYTtJQUNoQyxNQUFNRSxVQUFVRixVQUFVQSxZQUFZQTtJQUN0QyxNQUFNRyxhQUFhRCxTQUFTQyxjQUFjLEVBQUU7SUFDNUMsTUFBTUMsUUFBUUQsVUFBVSxDQUFDLEVBQUU7SUFDM0IsTUFBTVYsUUFBUVcsT0FBT0MsU0FBU1osU0FBUyxFQUFFO0lBQ3pDLE1BQU1hLFdBQVdiLE1BQU1jLElBQUksQ0FBQyxDQUFDQyxPQUFjQSxLQUFLZCxJQUFJO0lBQ3BELE9BQU9ZLFVBQVVaLFFBQVE7QUFDM0I7QUFFQSxTQUFTZSxhQUFhZixJQUErQjtJQUNuRCxJQUFJLENBQUNBLE1BQU0sT0FBTztJQUNsQixJQUFJO1FBQ0YsT0FBT2dCLEtBQUtDLEtBQUssQ0FBQ2pCO0lBQ3BCLEVBQUUsT0FBTTtRQUNOLE9BQU87SUFDVDtBQUNGO0FBRUEsU0FBU2tCLFlBQVlsQixJQUFZO0lBQy9CLE1BQU1tQixRQUFRbkIsS0FBS21CLEtBQUssQ0FBQztJQUN6QixPQUFPQSxPQUFPLENBQUMsRUFBRSxJQUFJO0FBQ3ZCO0FBRU8sZUFBZUMsc0JBQXNCQyxLQUFzQjtJQUNoRSxNQUFNNUIsU0FBU1IsNERBQWtCQSxDQUFDb0M7SUFDbEMsTUFBTWYsV0FBVyxNQUFNZCxrQkFBa0JDO0lBQ3pDLE1BQU1PLE9BQU9PLFlBQVlEO0lBQ3pCLE1BQU1nQixTQUFTUCxhQUFhZixTQUFTZSxhQUFhRyxZQUFZbEI7SUFFOUQsSUFBSSxDQUFDc0IsUUFBUTtRQUNYLE1BQU0sSUFBSUMsTUFBTTtJQUNsQjtJQUVBLE9BQU87UUFDTEMsUUFBUXRDLHVEQUFhQSxDQUFDb0MsT0FBT0UsTUFBTSxJQUFJLEVBQUU7UUFDekNDLE1BQU1ILE9BQU9HLElBQUksSUFBSTtRQUNyQkMsV0FBV0osT0FBT0ksU0FBUyxJQUFJO1FBQy9CQyxLQUFLTCxPQUFPSyxHQUFHLElBQUk7SUFDckI7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL3lpbmdiaW4vRG9jdW1lbnRzL2NvZGVzL2FpUHJvL3Zlb0xhYi9saWIvY29udGVudC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHZW5lcmF0ZVJlcXVlc3QgfSBmcm9tIFwiLi9zY2hlbWFcIjtcbmltcG9ydCB7IGJ1aWxkQ29udGVudFByb21wdCwgZW5mb3JjZVRpdGxlcyB9IGZyb20gXCIuL3Byb21wdHNcIjtcbmltcG9ydCB7IGdldEdlbmVyYXRpdmVNb2RlbCB9IGZyb20gXCIuL3ZlcnRleFwiO1xuXG5jb25zdCBHRU1JTklfVEVYVF9NT0RFTCA9IHByb2Nlc3MuZW52LkdFTUlOSV9URVhUX01PREVMIHx8IHByb2Nlc3MuZW52LkdFTUlOSV9NT0RFTCB8fCBcImdlbWluaS0xLjUtcHJvXCI7XG5cbmV4cG9ydCB0eXBlIENvbnRlbnRSZXN1bHQgPSB7XG4gIHRpdGxlczogc3RyaW5nW107XG4gIGhvb2s6IHN0cmluZztcbiAgdm9pY2VvdmVyOiBzdHJpbmc7XG4gIGN0YTogc3RyaW5nO1xufTtcblxuYXN5bmMgZnVuY3Rpb24gcmVxdWVzdEdlbWluaVRleHQocHJvbXB0OiBzdHJpbmcpIHtcbiAgY29uc3QgbW9kZWwgPSBnZXRHZW5lcmF0aXZlTW9kZWwoR0VNSU5JX1RFWFRfTU9ERUwpO1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCBtb2RlbC5nZW5lcmF0ZUNvbnRlbnQoe1xuICAgIGNvbnRlbnRzOiBbXG4gICAgICB7XG4gICAgICAgIHJvbGU6IFwidXNlclwiLFxuICAgICAgICBwYXJ0czogW3sgdGV4dDogcHJvbXB0IH1dLFxuICAgICAgfSxcbiAgICBdLFxuICAgIGdlbmVyYXRpb25Db25maWc6IHtcbiAgICAgIHRlbXBlcmF0dXJlOiAwLjYsXG4gICAgICB0b3BLOiA0MCxcbiAgICAgIHRvcFA6IDAuOTUsXG4gICAgICBtYXhPdXRwdXRUb2tlbnM6IDEyMDAsXG4gICAgfSxcbiAgfSk7XG4gIHJldHVybiByZXN1bHQucmVzcG9uc2U7XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RUZXh0KHJlc3BvbnNlOiBhbnkpOiBzdHJpbmcge1xuICBjb25zdCBwYXlsb2FkID0gcmVzcG9uc2U/LnJlc3BvbnNlID8/IHJlc3BvbnNlO1xuICBjb25zdCBjYW5kaWRhdGVzID0gcGF5bG9hZD8uY2FuZGlkYXRlcyB8fCBbXTtcbiAgY29uc3QgZmlyc3QgPSBjYW5kaWRhdGVzWzBdO1xuICBjb25zdCBwYXJ0cyA9IGZpcnN0Py5jb250ZW50Py5wYXJ0cyB8fCBbXTtcbiAgY29uc3QgdGV4dFBhcnQgPSBwYXJ0cy5maW5kKChwYXJ0OiBhbnkpID0+IHBhcnQudGV4dCk7XG4gIHJldHVybiB0ZXh0UGFydD8udGV4dCB8fCBcIlwiO1xufVxuXG5mdW5jdGlvbiB0cnlQYXJzZUpTT04odGV4dDogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZCk6IGFueSB7XG4gIGlmICghdGV4dCkgcmV0dXJuIG51bGw7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UodGV4dCk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RKU09OKHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IG1hdGNoID0gdGV4dC5tYXRjaCgvXFx7W1xcc1xcU10qXFx9Lyk7XG4gIHJldHVybiBtYXRjaD8uWzBdID8/IFwiXCI7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUdlbWluaUNvbnRlbnQoaW5wdXQ6IEdlbmVyYXRlUmVxdWVzdCk6IFByb21pc2U8Q29udGVudFJlc3VsdD4ge1xuICBjb25zdCBwcm9tcHQgPSBidWlsZENvbnRlbnRQcm9tcHQoaW5wdXQpO1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3RHZW1pbmlUZXh0KHByb21wdCk7XG4gIGNvbnN0IHRleHQgPSBleHRyYWN0VGV4dChyZXNwb25zZSk7XG4gIGNvbnN0IHBhcnNlZCA9IHRyeVBhcnNlSlNPTih0ZXh0KSA/PyB0cnlQYXJzZUpTT04oZXh0cmFjdEpTT04odGV4dCkpO1xuXG4gIGlmICghcGFyc2VkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiR2VtaW5pIHJlc3BvbnNlIGlzIG5vdCB2YWxpZCBKU09OXCIpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0aXRsZXM6IGVuZm9yY2VUaXRsZXMocGFyc2VkLnRpdGxlcyB8fCBbXSksXG4gICAgaG9vazogcGFyc2VkLmhvb2sgfHwgXCJcIixcbiAgICB2b2ljZW92ZXI6IHBhcnNlZC52b2ljZW92ZXIgfHwgXCJcIixcbiAgICBjdGE6IHBhcnNlZC5jdGEgfHwgXCJcIixcbiAgfTtcbn1cbiJdLCJuYW1lcyI6WyJidWlsZENvbnRlbnRQcm9tcHQiLCJlbmZvcmNlVGl0bGVzIiwiZ2V0R2VuZXJhdGl2ZU1vZGVsIiwiR0VNSU5JX1RFWFRfTU9ERUwiLCJwcm9jZXNzIiwiZW52IiwiR0VNSU5JX01PREVMIiwicmVxdWVzdEdlbWluaVRleHQiLCJwcm9tcHQiLCJtb2RlbCIsInJlc3VsdCIsImdlbmVyYXRlQ29udGVudCIsImNvbnRlbnRzIiwicm9sZSIsInBhcnRzIiwidGV4dCIsImdlbmVyYXRpb25Db25maWciLCJ0ZW1wZXJhdHVyZSIsInRvcEsiLCJ0b3BQIiwibWF4T3V0cHV0VG9rZW5zIiwicmVzcG9uc2UiLCJleHRyYWN0VGV4dCIsInBheWxvYWQiLCJjYW5kaWRhdGVzIiwiZmlyc3QiLCJjb250ZW50IiwidGV4dFBhcnQiLCJmaW5kIiwicGFydCIsInRyeVBhcnNlSlNPTiIsIkpTT04iLCJwYXJzZSIsImV4dHJhY3RKU09OIiwibWF0Y2giLCJnZW5lcmF0ZUdlbWluaUNvbnRlbnQiLCJpbnB1dCIsInBhcnNlZCIsIkVycm9yIiwidGl0bGVzIiwiaG9vayIsInZvaWNlb3ZlciIsImN0YSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/content.ts\n");

/***/ }),

/***/ "(rsc)/./lib/gemini.ts":
/*!***********************!*\
  !*** ./lib/gemini.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateStoryboard: () => (/* binding */ generateStoryboard)\n/* harmony export */ });\n/* harmony import */ var _schema__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./schema */ \"(rsc)/./lib/schema.ts\");\n/* harmony import */ var _prompts__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./prompts */ \"(rsc)/./lib/prompts.ts\");\n/* harmony import */ var _vertex__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./vertex */ \"(rsc)/./lib/vertex.ts\");\n\n\n\nconst GEMINI_MODEL = process.env.GEMINI_MODEL || \"gemini-1.5-pro\";\nasync function requestGemini(prompt) {\n    const model = (0,_vertex__WEBPACK_IMPORTED_MODULE_2__.getGenerativeModel)(GEMINI_MODEL);\n    const result = await model.generateContent({\n        contents: [\n            {\n                role: \"user\",\n                parts: [\n                    {\n                        text: prompt\n                    }\n                ]\n            }\n        ],\n        generationConfig: {\n            temperature: 0.6,\n            topK: 40,\n            topP: 0.95\n        }\n    });\n    return result.response;\n}\nfunction extractText(response) {\n    const payload = response?.response ?? response;\n    const candidates = payload?.candidates || [];\n    const first = candidates[0];\n    const parts = first?.content?.parts || [];\n    const textPart = parts.find((part)=>part.text);\n    return textPart?.text || \"\";\n}\nfunction parseStoryboard(text) {\n    const primary = tryParseJSON(text);\n    const fallback = tryParseJSON(extractJSON(text));\n    const parsed = primary || fallback;\n    if (!parsed) {\n        throw new Error(\"Gemini did not return valid JSON\");\n    }\n    const coerced = (0,_prompts__WEBPACK_IMPORTED_MODULE_1__.coerceStoryboard)(parsed);\n    return (0,_schema__WEBPACK_IMPORTED_MODULE_0__.validateStoryboard)(coerced);\n}\nfunction tryParseJSON(text) {\n    if (!text) return null;\n    try {\n        return JSON.parse(text);\n    } catch (err) {\n        return null;\n    }\n}\nfunction extractJSON(text) {\n    const match = text.match(/\\{[\\s\\S]*\\}/);\n    return match?.[0] ?? \"\";\n}\nasync function generateStoryboard(voiceover, input, contentMeta) {\n    const prompt = (0,_prompts__WEBPACK_IMPORTED_MODULE_1__.buildGeminiPrompt)(voiceover, input);\n    const result = await requestGemini(prompt);\n    const text = extractText(result);\n    const parsed = parseStoryboard(text);\n    return {\n        ...parsed,\n        hook: contentMeta.hook,\n        cta: contentMeta.cta,\n        titles: contentMeta.titles,\n        voiceover,\n        platform: input.platform,\n        duration_sec: input.duration,\n        template: input.template,\n        style: \"to_c_natural\"\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZ2VtaW5pLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBaUY7QUFDakI7QUFDbEI7QUFFOUMsTUFBTUksZUFBZUMsUUFBUUMsR0FBRyxDQUFDRixZQUFZLElBQUk7QUFFakQsZUFBZUcsY0FBY0MsTUFBYztJQUN6QyxNQUFNQyxRQUFRTiwyREFBa0JBLENBQUNDO0lBQ2pDLE1BQU1NLFNBQVMsTUFBTUQsTUFBTUUsZUFBZSxDQUFDO1FBQ3pDQyxVQUFVO1lBQ1I7Z0JBQ0VDLE1BQU07Z0JBQ05DLE9BQU87b0JBQUM7d0JBQUVDLE1BQU1QO29CQUFPO2lCQUFFO1lBQzNCO1NBQ0Q7UUFDRFEsa0JBQWtCO1lBQ2hCQyxhQUFhO1lBQ2JDLE1BQU07WUFDTkMsTUFBTTtRQUNSO0lBQ0Y7SUFDQSxPQUFPVCxPQUFPVSxRQUFRO0FBQ3hCO0FBRUEsU0FBU0MsWUFBWUQsUUFBYTtJQUNoQyxNQUFNRSxVQUFVRixVQUFVQSxZQUFZQTtJQUN0QyxNQUFNRyxhQUFhRCxTQUFTQyxjQUFjLEVBQUU7SUFDNUMsTUFBTUMsUUFBUUQsVUFBVSxDQUFDLEVBQUU7SUFDM0IsTUFBTVQsUUFBUVUsT0FBT0MsU0FBU1gsU0FBUyxFQUFFO0lBQ3pDLE1BQU1ZLFdBQVdaLE1BQU1hLElBQUksQ0FBQyxDQUFDQyxPQUFjQSxLQUFLYixJQUFJO0lBQ3BELE9BQU9XLFVBQVVYLFFBQVE7QUFDM0I7QUFFQSxTQUFTYyxnQkFBZ0JkLElBQVk7SUFDbkMsTUFBTWUsVUFBVUMsYUFBYWhCO0lBQzdCLE1BQU1pQixXQUFXRCxhQUFhRSxZQUFZbEI7SUFDMUMsTUFBTW1CLFNBQVNKLFdBQVdFO0lBQzFCLElBQUksQ0FBQ0UsUUFBUTtRQUNYLE1BQU0sSUFBSUMsTUFBTTtJQUNsQjtJQUNBLE1BQU1DLFVBQVVsQywwREFBZ0JBLENBQUNnQztJQUNqQyxPQUFPbEMsMkRBQWtCQSxDQUFDb0M7QUFDNUI7QUFFQSxTQUFTTCxhQUFhaEIsSUFBK0I7SUFDbkQsSUFBSSxDQUFDQSxNQUFNLE9BQU87SUFDbEIsSUFBSTtRQUNGLE9BQU9zQixLQUFLQyxLQUFLLENBQUN2QjtJQUNwQixFQUFFLE9BQU93QixLQUFLO1FBQ1osT0FBTztJQUNUO0FBQ0Y7QUFFQSxTQUFTTixZQUFZbEIsSUFBWTtJQUMvQixNQUFNeUIsUUFBUXpCLEtBQUt5QixLQUFLLENBQUM7SUFDekIsT0FBT0EsT0FBTyxDQUFDLEVBQUUsSUFBSTtBQUN2QjtBQUVPLGVBQWVDLG1CQUNwQkMsU0FBaUIsRUFDakJDLEtBQXNCLEVBQ3RCQyxXQUE0RDtJQUU1RCxNQUFNcEMsU0FBU1AsMkRBQWlCQSxDQUFDeUMsV0FBV0M7SUFDNUMsTUFBTWpDLFNBQVMsTUFBTUgsY0FBY0M7SUFDbkMsTUFBTU8sT0FBT00sWUFBWVg7SUFDekIsTUFBTXdCLFNBQVNMLGdCQUFnQmQ7SUFDL0IsT0FBTztRQUNMLEdBQUdtQixNQUFNO1FBQ1RXLE1BQU1ELFlBQVlDLElBQUk7UUFDdEJDLEtBQUtGLFlBQVlFLEdBQUc7UUFDcEJDLFFBQVFILFlBQVlHLE1BQU07UUFDMUJMO1FBQ0FNLFVBQVVMLE1BQU1LLFFBQVE7UUFDeEJDLGNBQWNOLE1BQU1PLFFBQVE7UUFDNUJDLFVBQVVSLE1BQU1RLFFBQVE7UUFDeEJDLE9BQU87SUFDVDtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMveWluZ2Jpbi9Eb2N1bWVudHMvY29kZXMvYWlQcm8vdmVvTGFiL2xpYi9nZW1pbmkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR2VuZXJhdGVSZXF1ZXN0LCBTdG9yeWJvYXJkUmVzdWx0LCB2YWxpZGF0ZVN0b3J5Ym9hcmQgfSBmcm9tIFwiLi9zY2hlbWFcIjtcbmltcG9ydCB7IGJ1aWxkR2VtaW5pUHJvbXB0LCBjb2VyY2VTdG9yeWJvYXJkIH0gZnJvbSBcIi4vcHJvbXB0c1wiO1xuaW1wb3J0IHsgZ2V0R2VuZXJhdGl2ZU1vZGVsIH0gZnJvbSBcIi4vdmVydGV4XCI7XG5cbmNvbnN0IEdFTUlOSV9NT0RFTCA9IHByb2Nlc3MuZW52LkdFTUlOSV9NT0RFTCB8fCBcImdlbWluaS0xLjUtcHJvXCI7XG5cbmFzeW5jIGZ1bmN0aW9uIHJlcXVlc3RHZW1pbmkocHJvbXB0OiBzdHJpbmcpIHtcbiAgY29uc3QgbW9kZWwgPSBnZXRHZW5lcmF0aXZlTW9kZWwoR0VNSU5JX01PREVMKTtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbW9kZWwuZ2VuZXJhdGVDb250ZW50KHtcbiAgICBjb250ZW50czogW1xuICAgICAge1xuICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgcGFydHM6IFt7IHRleHQ6IHByb21wdCB9XSxcbiAgICAgIH0sXG4gICAgXSxcbiAgICBnZW5lcmF0aW9uQ29uZmlnOiB7XG4gICAgICB0ZW1wZXJhdHVyZTogMC42LFxuICAgICAgdG9wSzogNDAsXG4gICAgICB0b3BQOiAwLjk1LFxuICAgIH0sXG4gIH0pO1xuICByZXR1cm4gcmVzdWx0LnJlc3BvbnNlO1xufVxuXG5mdW5jdGlvbiBleHRyYWN0VGV4dChyZXNwb25zZTogYW55KTogc3RyaW5nIHtcbiAgY29uc3QgcGF5bG9hZCA9IHJlc3BvbnNlPy5yZXNwb25zZSA/PyByZXNwb25zZTtcbiAgY29uc3QgY2FuZGlkYXRlcyA9IHBheWxvYWQ/LmNhbmRpZGF0ZXMgfHwgW107XG4gIGNvbnN0IGZpcnN0ID0gY2FuZGlkYXRlc1swXTtcbiAgY29uc3QgcGFydHMgPSBmaXJzdD8uY29udGVudD8ucGFydHMgfHwgW107XG4gIGNvbnN0IHRleHRQYXJ0ID0gcGFydHMuZmluZCgocGFydDogYW55KSA9PiBwYXJ0LnRleHQpO1xuICByZXR1cm4gdGV4dFBhcnQ/LnRleHQgfHwgXCJcIjtcbn1cblxuZnVuY3Rpb24gcGFyc2VTdG9yeWJvYXJkKHRleHQ6IHN0cmluZyk6IFN0b3J5Ym9hcmRSZXN1bHQge1xuICBjb25zdCBwcmltYXJ5ID0gdHJ5UGFyc2VKU09OKHRleHQpO1xuICBjb25zdCBmYWxsYmFjayA9IHRyeVBhcnNlSlNPTihleHRyYWN0SlNPTih0ZXh0KSk7XG4gIGNvbnN0IHBhcnNlZCA9IHByaW1hcnkgfHwgZmFsbGJhY2s7XG4gIGlmICghcGFyc2VkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiR2VtaW5pIGRpZCBub3QgcmV0dXJuIHZhbGlkIEpTT05cIik7XG4gIH1cbiAgY29uc3QgY29lcmNlZCA9IGNvZXJjZVN0b3J5Ym9hcmQocGFyc2VkIGFzIFN0b3J5Ym9hcmRSZXN1bHQpO1xuICByZXR1cm4gdmFsaWRhdGVTdG9yeWJvYXJkKGNvZXJjZWQpO1xufVxuXG5mdW5jdGlvbiB0cnlQYXJzZUpTT04odGV4dDogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZCk6IGFueSB7XG4gIGlmICghdGV4dCkgcmV0dXJuIG51bGw7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UodGV4dCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RKU09OKHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IG1hdGNoID0gdGV4dC5tYXRjaCgvXFx7W1xcc1xcU10qXFx9Lyk7XG4gIHJldHVybiBtYXRjaD8uWzBdID8/IFwiXCI7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZVN0b3J5Ym9hcmQoXG4gIHZvaWNlb3Zlcjogc3RyaW5nLFxuICBpbnB1dDogR2VuZXJhdGVSZXF1ZXN0LFxuICBjb250ZW50TWV0YTogeyBob29rOiBzdHJpbmc7IGN0YTogc3RyaW5nOyB0aXRsZXM6IHN0cmluZ1tdIH1cbik6IFByb21pc2U8U3Rvcnlib2FyZFJlc3VsdD4ge1xuICBjb25zdCBwcm9tcHQgPSBidWlsZEdlbWluaVByb21wdCh2b2ljZW92ZXIsIGlucHV0KTtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVxdWVzdEdlbWluaShwcm9tcHQpO1xuICBjb25zdCB0ZXh0ID0gZXh0cmFjdFRleHQocmVzdWx0KTtcbiAgY29uc3QgcGFyc2VkID0gcGFyc2VTdG9yeWJvYXJkKHRleHQpO1xuICByZXR1cm4ge1xuICAgIC4uLnBhcnNlZCxcbiAgICBob29rOiBjb250ZW50TWV0YS5ob29rLFxuICAgIGN0YTogY29udGVudE1ldGEuY3RhLFxuICAgIHRpdGxlczogY29udGVudE1ldGEudGl0bGVzLFxuICAgIHZvaWNlb3ZlcixcbiAgICBwbGF0Zm9ybTogaW5wdXQucGxhdGZvcm0sXG4gICAgZHVyYXRpb25fc2VjOiBpbnB1dC5kdXJhdGlvbixcbiAgICB0ZW1wbGF0ZTogaW5wdXQudGVtcGxhdGUsXG4gICAgc3R5bGU6IFwidG9fY19uYXR1cmFsXCIsXG4gIH07XG59XG4iXSwibmFtZXMiOlsidmFsaWRhdGVTdG9yeWJvYXJkIiwiYnVpbGRHZW1pbmlQcm9tcHQiLCJjb2VyY2VTdG9yeWJvYXJkIiwiZ2V0R2VuZXJhdGl2ZU1vZGVsIiwiR0VNSU5JX01PREVMIiwicHJvY2VzcyIsImVudiIsInJlcXVlc3RHZW1pbmkiLCJwcm9tcHQiLCJtb2RlbCIsInJlc3VsdCIsImdlbmVyYXRlQ29udGVudCIsImNvbnRlbnRzIiwicm9sZSIsInBhcnRzIiwidGV4dCIsImdlbmVyYXRpb25Db25maWciLCJ0ZW1wZXJhdHVyZSIsInRvcEsiLCJ0b3BQIiwicmVzcG9uc2UiLCJleHRyYWN0VGV4dCIsInBheWxvYWQiLCJjYW5kaWRhdGVzIiwiZmlyc3QiLCJjb250ZW50IiwidGV4dFBhcnQiLCJmaW5kIiwicGFydCIsInBhcnNlU3Rvcnlib2FyZCIsInByaW1hcnkiLCJ0cnlQYXJzZUpTT04iLCJmYWxsYmFjayIsImV4dHJhY3RKU09OIiwicGFyc2VkIiwiRXJyb3IiLCJjb2VyY2VkIiwiSlNPTiIsInBhcnNlIiwiZXJyIiwibWF0Y2giLCJnZW5lcmF0ZVN0b3J5Ym9hcmQiLCJ2b2ljZW92ZXIiLCJpbnB1dCIsImNvbnRlbnRNZXRhIiwiaG9vayIsImN0YSIsInRpdGxlcyIsInBsYXRmb3JtIiwiZHVyYXRpb25fc2VjIiwiZHVyYXRpb24iLCJ0ZW1wbGF0ZSIsInN0eWxlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/gemini.ts\n");

/***/ }),

/***/ "(rsc)/./lib/prompts.ts":
/*!************************!*\
  !*** ./lib/prompts.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildContentPrompt: () => (/* binding */ buildContentPrompt),\n/* harmony export */   buildGeminiPrompt: () => (/* binding */ buildGeminiPrompt),\n/* harmony export */   coerceStoryboard: () => (/* binding */ coerceStoryboard),\n/* harmony export */   enforceTitles: () => (/* binding */ enforceTitles)\n/* harmony export */ });\nfunction buildContentPrompt(input) {\n    const { topic, platform, duration, template, persona = \"natural\", must_include = \"\", avoid = \"\" } = input;\n    return `${topic}\n${platform}\n${duration}\n${template}\n${persona}\n${must_include}\n${avoid}\n\n JSON\n{\n  \"titles\": [\"...10\"],\n  \"hook\": \"13\",\n  \"voiceover\": \"\",\n  \"cta\": \"\"\n}\n\n- ToC \n- 100%)`;\n}\nfunction buildGeminiPrompt(voiceover, input) {\n    const { platform, duration, template, must_include = \"\", avoid = \"\" } = input;\n    return ` schema  JSON\n\n\n- ${platform}\n- ${duration}\n- ${template}\n- \n- ${must_include}\n- ${avoid}\n\n\n${voiceover}\n\n\n- 15s=4~630s=6~960s=10~14\n-  veo_prompt  negative_prompt\n- veo_prompt 9:16\n- negative_prompt logo\n-  JSON`;\n}\nfunction enforceTitles(titles) {\n    const normalized = titles.filter((title)=>title && title.trim());\n    while(normalized.length < 10){\n        normalized.push(`${normalized.length + 1}. `);\n    }\n    return normalized.slice(0, 10);\n}\nfunction coerceStoryboard(raw) {\n    return {\n        ...raw,\n        titles: enforceTitles(raw.titles),\n        shots: raw.shots.map((shot, index)=>({\n                ...shot,\n                shot: shot.shot || index + 1\n            }))\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcHJvbXB0cy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBRU8sU0FBU0EsbUJBQW1CQyxLQUFzQjtJQUN2RCxNQUFNLEVBQUVDLEtBQUssRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLFFBQVEsRUFBRUMsVUFBVSxTQUFTLEVBQUVDLGVBQWUsRUFBRSxFQUFFQyxRQUFRLEVBQUUsRUFBRSxHQUFHUDtJQUNwRyxPQUFPLENBQUMsR0FBRyxFQUFFQyxNQUFNO0dBQ2xCLEVBQUVDLFNBQVM7R0FDWCxFQUFFQyxTQUFTO0dBQ1gsRUFBRUMsU0FBUztHQUNYLEVBQUVDLFFBQVE7S0FDUixFQUFFQyxhQUFhO0dBQ2pCLEVBQUVDLE1BQU07Ozs7Ozs7Ozs7OzZCQVdrQixDQUFDO0FBQzlCO0FBRU8sU0FBU0Msa0JBQWtCQyxTQUFpQixFQUFFVCxLQUFzQjtJQUN6RSxNQUFNLEVBQUVFLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUVFLGVBQWUsRUFBRSxFQUFFQyxRQUFRLEVBQUUsRUFBRSxHQUFHUDtJQUN4RSxPQUFPLENBQUM7OztLQUdMLEVBQUVFLFNBQVM7S0FDWCxFQUFFQyxTQUFTO0tBQ1gsRUFBRUMsU0FBUzs7T0FFVCxFQUFFRSxhQUFhO0tBQ2pCLEVBQUVDLE1BQU07OztBQUdiLEVBQUVFLFVBQVU7Ozs7Ozs7ZUFPRyxDQUFDO0FBQ2hCO0FBRU8sU0FBU0MsY0FBY0MsTUFBZ0I7SUFDNUMsTUFBTUMsYUFBYUQsT0FBT0UsTUFBTSxDQUFDLENBQUNDLFFBQVVBLFNBQVNBLE1BQU1DLElBQUk7SUFDL0QsTUFBT0gsV0FBV0ksTUFBTSxHQUFHLEdBQUk7UUFDN0JKLFdBQVdLLElBQUksQ0FBQyxHQUFHTCxXQUFXSSxNQUFNLEdBQUcsRUFBRSxPQUFPLENBQUM7SUFDbkQ7SUFDQSxPQUFPSixXQUFXTSxLQUFLLENBQUMsR0FBRztBQUM3QjtBQUVPLFNBQVNDLGlCQUFpQkMsR0FBcUI7SUFDcEQsT0FBTztRQUNMLEdBQUdBLEdBQUc7UUFDTlQsUUFBUUQsY0FBY1UsSUFBSVQsTUFBTTtRQUNoQ1UsT0FBT0QsSUFBSUMsS0FBSyxDQUFDQyxHQUFHLENBQUMsQ0FBQ0MsTUFBTUMsUUFBVztnQkFBRSxHQUFHRCxJQUFJO2dCQUFFQSxNQUFNQSxLQUFLQSxJQUFJLElBQUlDLFFBQVE7WUFBRTtJQUNqRjtBQUNGIiwic291cmNlcyI6WyIvVXNlcnMveWluZ2Jpbi9Eb2N1bWVudHMvY29kZXMvYWlQcm8vdmVvTGFiL2xpYi9wcm9tcHRzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdlbmVyYXRlUmVxdWVzdCwgU3Rvcnlib2FyZFJlc3VsdCB9IGZyb20gXCIuL3NjaGVtYVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRDb250ZW50UHJvbXB0KGlucHV0OiBHZW5lcmF0ZVJlcXVlc3QpOiBzdHJpbmcge1xuICBjb25zdCB7IHRvcGljLCBwbGF0Zm9ybSwgZHVyYXRpb24sIHRlbXBsYXRlLCBwZXJzb25hID0gXCJuYXR1cmFsXCIsIG11c3RfaW5jbHVkZSA9IFwiXCIsIGF2b2lkID0gXCJcIiB9ID0gaW5wdXQ7XG4gIHJldHVybiBg6YCJ6aKY77yaJHt0b3BpY31cbuW5s+WPsO+8miR7cGxhdGZvcm19XG7ml7bplb/vvJoke2R1cmF0aW9ufeenklxu5qih5p2/77yaJHt0ZW1wbGF0ZX1cbuS6uuiuvu+8miR7cGVyc29uYX1cbuW/hemhu+WHuueOsO+8miR7bXVzdF9pbmNsdWRlfVxu56aB5b+M77yaJHthdm9pZH1cblxu6K+35Y+q6L6T5Ye6IEpTT07vvJpcbntcbiAgXCJ0aXRsZXNcIjogW1wiLi4u5YWxMTDkuKpcIl0sXG4gIFwiaG9va1wiOiBcIjHlj6Uz56eS5byA5aS0XCIsXG4gIFwidm9pY2VvdmVyXCI6IFwi5a6M5pW05Y+j6K+t5peB55m956i/XCIsXG4gIFwiY3RhXCI6IFwi57uT5bC+5LqS5Yqo5byV5a+8XCJcbn1cbuimgeaxgu+8mlxuLSBUb0Mg55yf5a6e6Ieq54S277yM6YG/5YWN6JCl6ZSA6IWUXG4tIOS4jeWHuueOsOWkuOW8oOaJv+ivuu+8iOWmguKAnOS/neivgeKAneKAnDEwMCXigJ3igJznq4vliLvlj5jnjrDigJ3nrYkpYDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJ1aWxkR2VtaW5pUHJvbXB0KHZvaWNlb3Zlcjogc3RyaW5nLCBpbnB1dDogR2VuZXJhdGVSZXF1ZXN0KTogc3RyaW5nIHtcbiAgY29uc3QgeyBwbGF0Zm9ybSwgZHVyYXRpb24sIHRlbXBsYXRlLCBtdXN0X2luY2x1ZGUgPSBcIlwiLCBhdm9pZCA9IFwiXCIgfSA9IGlucHV0O1xuICByZXR1cm4gYOS9oOaYr+efreinhumikee8luWvvOOAguivt+WwhuaXgeeZveaUueWGmeS4uuWIhumVnO+8jOW5tuWPqui+k+WHuuespuWQiCBzY2hlbWEg55qEIEpTT07jgIJcblxu5Y+C5pWw77yaXG4tIOW5s+WPsO+8miR7cGxhdGZvcm19XG4tIOaXtumVv++8miR7ZHVyYXRpb25956eSXG4tIOaooeadv++8miR7dGVtcGxhdGV9XG4tIOmjjuagvO+8muecn+WunuiHqueEtuOAgeaZrumAmuS6uuWPr+aLjVxuLSDlv4Xpobvlh7rnjrDvvJoke211c3RfaW5jbHVkZX1cbi0g56aB5b+M77yaJHthdm9pZH1cblxu5peB55m956i/77yaXG4ke3ZvaWNlb3Zlcn1cblxu56Gs5oCn6KaB5rGC77yaXG4tIDE1cz00fjbplZzlpLTvvJszMHM9Nn4577ybNjBzPTEwfjE0XG4tIOavj+mVnOWktOW/hemhu+WMheWQqyB2ZW9fcHJvbXB0IOS4jiBuZWdhdGl2ZV9wcm9tcHRcbi0gdmVvX3Byb21wdCDopoHljIXlkKvvvJrlnLrmma/jgIHkuLvkvZPjgIHliqjkvZzjgIHpo47moLzjgIHlhYnnur/jgIHplZzlpLTjgIHnlLvotKjjgIHmr5TkvovvvIg5OjE277yJXG4tIG5lZ2F0aXZlX3Byb21wdCDljIXlkKvnpoHlv4zpobnkuI7luLjop4HkuI3luIzmnJvlh7rnjrDlhoXlrrnvvIjmsLTljbDjgIFsb2dv44CB5paH5a2X6ZSZ6K+v44CB55W45b2i5omL44CB57OK44CB6Zeq54OB562J77yJXG4tIOWPqui+k+WHuiBKU09O77yM5LiN6KaB6Kej6YeKYDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVuZm9yY2VUaXRsZXModGl0bGVzOiBzdHJpbmdbXSk6IHN0cmluZ1tdIHtcbiAgY29uc3Qgbm9ybWFsaXplZCA9IHRpdGxlcy5maWx0ZXIoKHRpdGxlKSA9PiB0aXRsZSAmJiB0aXRsZS50cmltKCkpO1xuICB3aGlsZSAobm9ybWFsaXplZC5sZW5ndGggPCAxMCkge1xuICAgIG5vcm1hbGl6ZWQucHVzaChgJHtub3JtYWxpemVkLmxlbmd0aCArIDF9LiDlvoXooaXlhYXmoIfpophgKTtcbiAgfVxuICByZXR1cm4gbm9ybWFsaXplZC5zbGljZSgwLCAxMCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb2VyY2VTdG9yeWJvYXJkKHJhdzogU3Rvcnlib2FyZFJlc3VsdCk6IFN0b3J5Ym9hcmRSZXN1bHQge1xuICByZXR1cm4ge1xuICAgIC4uLnJhdyxcbiAgICB0aXRsZXM6IGVuZm9yY2VUaXRsZXMocmF3LnRpdGxlcyksXG4gICAgc2hvdHM6IHJhdy5zaG90cy5tYXAoKHNob3QsIGluZGV4KSA9PiAoeyAuLi5zaG90LCBzaG90OiBzaG90LnNob3QgfHwgaW5kZXggKyAxIH0pKSxcbiAgfTtcbn1cbiJdLCJuYW1lcyI6WyJidWlsZENvbnRlbnRQcm9tcHQiLCJpbnB1dCIsInRvcGljIiwicGxhdGZvcm0iLCJkdXJhdGlvbiIsInRlbXBsYXRlIiwicGVyc29uYSIsIm11c3RfaW5jbHVkZSIsImF2b2lkIiwiYnVpbGRHZW1pbmlQcm9tcHQiLCJ2b2ljZW92ZXIiLCJlbmZvcmNlVGl0bGVzIiwidGl0bGVzIiwibm9ybWFsaXplZCIsImZpbHRlciIsInRpdGxlIiwidHJpbSIsImxlbmd0aCIsInB1c2giLCJzbGljZSIsImNvZXJjZVN0b3J5Ym9hcmQiLCJyYXciLCJzaG90cyIsIm1hcCIsInNob3QiLCJpbmRleCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/prompts.ts\n");

/***/ }),

/***/ "(rsc)/./lib/rateLimit.ts":
/*!**************************!*\
  !*** ./lib/rateLimit.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkRateLimit: () => (/* binding */ checkRateLimit)\n/* harmony export */ });\nconst globalBucket = globalThis;\nconst bucket = globalBucket.__rateLimit__ ||= new Map();\nconst ONE_DAY = 24 * 60 * 60 * 1000;\nfunction checkRateLimit(identifier, limit = 3) {\n    const now = Date.now();\n    const entry = bucket.get(identifier);\n    if (!entry || entry.resetAt < now) {\n        bucket.set(identifier, {\n            count: 1,\n            resetAt: now + ONE_DAY\n        });\n        return {\n            allowed: true,\n            remaining: limit - 1,\n            resetAt: now + ONE_DAY\n        };\n    }\n    if (entry.count >= limit) {\n        return {\n            allowed: false,\n            remaining: 0,\n            resetAt: entry.resetAt\n        };\n    }\n    entry.count += 1;\n    bucket.set(identifier, entry);\n    return {\n        allowed: true,\n        remaining: limit - entry.count,\n        resetAt: entry.resetAt\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcmF0ZUxpbWl0LnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxNQUFNQSxlQUFlQztBQUlyQixNQUFNQyxTQUFVRixhQUFhRyxhQUFhLEtBQUssSUFBSUM7QUFFbkQsTUFBTUMsVUFBVSxLQUFLLEtBQUssS0FBSztBQUV4QixTQUFTQyxlQUFlQyxVQUFrQixFQUFFQyxRQUFRLENBQUM7SUFDMUQsTUFBTUMsTUFBTUMsS0FBS0QsR0FBRztJQUNwQixNQUFNRSxRQUFRVCxPQUFPVSxHQUFHLENBQUNMO0lBQ3pCLElBQUksQ0FBQ0ksU0FBU0EsTUFBTUUsT0FBTyxHQUFHSixLQUFLO1FBQ2pDUCxPQUFPWSxHQUFHLENBQUNQLFlBQVk7WUFBRVEsT0FBTztZQUFHRixTQUFTSixNQUFNSjtRQUFRO1FBQzFELE9BQU87WUFBRVcsU0FBUztZQUFNQyxXQUFXVCxRQUFRO1lBQUdLLFNBQVNKLE1BQU1KO1FBQVE7SUFDdkU7SUFFQSxJQUFJTSxNQUFNSSxLQUFLLElBQUlQLE9BQU87UUFDeEIsT0FBTztZQUFFUSxTQUFTO1lBQU9DLFdBQVc7WUFBR0osU0FBU0YsTUFBTUUsT0FBTztRQUFDO0lBQ2hFO0lBRUFGLE1BQU1JLEtBQUssSUFBSTtJQUNmYixPQUFPWSxHQUFHLENBQUNQLFlBQVlJO0lBQ3ZCLE9BQU87UUFBRUssU0FBUztRQUFNQyxXQUFXVCxRQUFRRyxNQUFNSSxLQUFLO1FBQUVGLFNBQVNGLE1BQU1FLE9BQU87SUFBQztBQUNqRiIsInNvdXJjZXMiOlsiL1VzZXJzL3lpbmdiaW4vRG9jdW1lbnRzL2NvZGVzL2FpUHJvL3Zlb0xhYi9saWIvcmF0ZUxpbWl0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGdsb2JhbEJ1Y2tldCA9IGdsb2JhbFRoaXMgYXMgdW5rbm93biBhcyB7XG4gIF9fcmF0ZUxpbWl0X18/OiBNYXA8c3RyaW5nLCB7IGNvdW50OiBudW1iZXI7IHJlc2V0QXQ6IG51bWJlciB9Pjtcbn07XG5cbmNvbnN0IGJ1Y2tldCA9IChnbG9iYWxCdWNrZXQuX19yYXRlTGltaXRfXyB8fD0gbmV3IE1hcCgpKTtcblxuY29uc3QgT05FX0RBWSA9IDI0ICogNjAgKiA2MCAqIDEwMDA7XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja1JhdGVMaW1pdChpZGVudGlmaWVyOiBzdHJpbmcsIGxpbWl0ID0gMykge1xuICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICBjb25zdCBlbnRyeSA9IGJ1Y2tldC5nZXQoaWRlbnRpZmllcik7XG4gIGlmICghZW50cnkgfHwgZW50cnkucmVzZXRBdCA8IG5vdykge1xuICAgIGJ1Y2tldC5zZXQoaWRlbnRpZmllciwgeyBjb3VudDogMSwgcmVzZXRBdDogbm93ICsgT05FX0RBWSB9KTtcbiAgICByZXR1cm4geyBhbGxvd2VkOiB0cnVlLCByZW1haW5pbmc6IGxpbWl0IC0gMSwgcmVzZXRBdDogbm93ICsgT05FX0RBWSB9O1xuICB9XG5cbiAgaWYgKGVudHJ5LmNvdW50ID49IGxpbWl0KSB7XG4gICAgcmV0dXJuIHsgYWxsb3dlZDogZmFsc2UsIHJlbWFpbmluZzogMCwgcmVzZXRBdDogZW50cnkucmVzZXRBdCB9O1xuICB9XG5cbiAgZW50cnkuY291bnQgKz0gMTtcbiAgYnVja2V0LnNldChpZGVudGlmaWVyLCBlbnRyeSk7XG4gIHJldHVybiB7IGFsbG93ZWQ6IHRydWUsIHJlbWFpbmluZzogbGltaXQgLSBlbnRyeS5jb3VudCwgcmVzZXRBdDogZW50cnkucmVzZXRBdCB9O1xufVxuIl0sIm5hbWVzIjpbImdsb2JhbEJ1Y2tldCIsImdsb2JhbFRoaXMiLCJidWNrZXQiLCJfX3JhdGVMaW1pdF9fIiwiTWFwIiwiT05FX0RBWSIsImNoZWNrUmF0ZUxpbWl0IiwiaWRlbnRpZmllciIsImxpbWl0Iiwibm93IiwiRGF0ZSIsImVudHJ5IiwiZ2V0IiwicmVzZXRBdCIsInNldCIsImNvdW50IiwiYWxsb3dlZCIsInJlbWFpbmluZyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/rateLimit.ts\n");

/***/ }),

/***/ "(rsc)/./lib/schema.ts":
/*!***********************!*\
  !*** ./lib/schema.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkDuration: () => (/* binding */ checkDuration),\n/* harmony export */   checkShotCounts: () => (/* binding */ checkShotCounts),\n/* harmony export */   requestSchema: () => (/* binding */ requestSchema),\n/* harmony export */   storyboardSchema: () => (/* binding */ storyboardSchema),\n/* harmony export */   validateStoryboard: () => (/* binding */ validateStoryboard)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/.pnpm/zod@3.23.8/node_modules/zod/lib/index.mjs\");\n\nconst requestSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    topic: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().min(1).max(120),\n    platform: zod__WEBPACK_IMPORTED_MODULE_0__.z.enum([\n        \"douyin\",\n        \"shipinhao\",\n        \"xiaohongshu\"\n    ]),\n    duration: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n        zod__WEBPACK_IMPORTED_MODULE_0__.z.literal(15),\n        zod__WEBPACK_IMPORTED_MODULE_0__.z.literal(30),\n        zod__WEBPACK_IMPORTED_MODULE_0__.z.literal(60)\n    ]),\n    template: zod__WEBPACK_IMPORTED_MODULE_0__.z.enum([\n        \"pain_point_hook\",\n        \"product_reco\",\n        \"story_emotion\"\n    ]),\n    persona: zod__WEBPACK_IMPORTED_MODULE_0__.z.enum([\n        \"natural\",\n        \"professional\",\n        \"funny\",\n        \"warm\"\n    ]).optional().default(\"natural\"),\n    must_include: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().max(200).optional().default(\"\"),\n    avoid: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().max(200).optional().default(\"\")\n});\nconst shotSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    shot: zod__WEBPACK_IMPORTED_MODULE_0__.z.number().int().positive(),\n    sec: zod__WEBPACK_IMPORTED_MODULE_0__.z.number().int().positive(),\n    visual: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    camera: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    subtitle: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    bgm_sfx: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    veo_prompt: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    negative_prompt: zod__WEBPACK_IMPORTED_MODULE_0__.z.string()\n});\nconst storyboardSchema = zod__WEBPACK_IMPORTED_MODULE_0__.z.object({\n    platform: zod__WEBPACK_IMPORTED_MODULE_0__.z.enum([\n        \"douyin\",\n        \"shipinhao\",\n        \"xiaohongshu\"\n    ]),\n    duration_sec: zod__WEBPACK_IMPORTED_MODULE_0__.z.union([\n        zod__WEBPACK_IMPORTED_MODULE_0__.z.literal(15),\n        zod__WEBPACK_IMPORTED_MODULE_0__.z.literal(30),\n        zod__WEBPACK_IMPORTED_MODULE_0__.z.literal(60)\n    ]),\n    template: zod__WEBPACK_IMPORTED_MODULE_0__.z.enum([\n        \"pain_point_hook\",\n        \"product_reco\",\n        \"story_emotion\"\n    ]),\n    style: zod__WEBPACK_IMPORTED_MODULE_0__.z.literal(\"to_c_natural\"),\n    titles: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(zod__WEBPACK_IMPORTED_MODULE_0__.z.string()).length(10),\n    hook: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    voiceover: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    cta: zod__WEBPACK_IMPORTED_MODULE_0__.z.string(),\n    shots: zod__WEBPACK_IMPORTED_MODULE_0__.z.array(shotSchema)\n});\nfunction checkShotCounts(shots, duration) {\n    const length = shots.length;\n    const rules = {\n        15: [\n            4,\n            6\n        ],\n        30: [\n            6,\n            9\n        ],\n        60: [\n            10,\n            14\n        ]\n    };\n    const [min, max] = rules[duration];\n    return length >= min && length <= max;\n}\nfunction checkDuration(shots, duration) {\n    const total = shots.reduce((acc, shot)=>acc + shot.sec, 0);\n    return Math.abs(total - duration) <= 3;\n}\nfunction validateStoryboard(payload) {\n    const parsed = storyboardSchema.parse(payload);\n    if (!checkShotCounts(parsed.shots, parsed.duration_sec)) {\n        throw new Error(\"Shot count does not meet duration rules\");\n    }\n    if (!checkDuration(parsed.shots, parsed.duration_sec)) {\n        throw new Error(\"Shot durations do not sum to expected range\");\n    }\n    return parsed;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q2xDLE9BQU8wQixVQUFVOUIsT0FBTzhCLFVBQVU3QjtBQUNwQztBQUVPLFNBQVNvQyxjQUFjSCxLQUFnQyxFQUFFOUIsUUFBMEM7SUFDeEcsTUFBTWtDLFFBQVFKLE1BQU1LLE1BQU0sQ0FBQyxDQUFDQyxLQUFLMUIsT0FBUzBCLE1BQU0xQixLQUFLSSxHQUFHLEVBQUU7SUFDMUQsT0FBT3VCLEtBQUtDLEdBQUcsQ0FBQ0osUUFBUWxDLGFBQWE7QUFDdkM7QUFFTyxTQUFTdUMsbUJBQW1CQyxPQUFnQjtJQUNqRCxNQUFNQyxTQUFTcEIsaUJBQWlCcUIsS0FBSyxDQUFDRjtJQUN0QyxJQUFJLENBQUNULGdCQUFnQlUsT0FBT1gsS0FBSyxFQUFFVyxPQUFPbkIsWUFBWSxHQUFHO1FBQ3ZELE1BQU0sSUFBSXFCLE1BQU07SUFDbEI7SUFDQSxJQUFJLENBQUNWLGNBQWNRLE9BQU9YLEtBQUssRUFBRVcsT0FBT25CLFlBQVksR0FBRztRQUNyRCxNQUFNLElBQUlxQixNQUFNO0lBQ2xCO0lBQ0EsT0FBT0Y7QUFDVCIsInNvdXJjZXMiOlsiL1VzZXJzL3lpbmdiaW4vRG9jdW1lbnRzL2NvZGVzL2FpUHJvL3Zlb0xhYi9saWIvc2NoZW1hLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5cbmV4cG9ydCBjb25zdCByZXF1ZXN0U2NoZW1hID0gei5vYmplY3Qoe1xuICB0b3BpYzogei5zdHJpbmcoKS5taW4oMSkubWF4KDEyMCksXG4gIHBsYXRmb3JtOiB6LmVudW0oW1wiZG91eWluXCIsIFwic2hpcGluaGFvXCIsIFwieGlhb2hvbmdzaHVcIl0pLFxuICBkdXJhdGlvbjogei51bmlvbihbei5saXRlcmFsKDE1KSwgei5saXRlcmFsKDMwKSwgei5saXRlcmFsKDYwKV0pLFxuICB0ZW1wbGF0ZTogei5lbnVtKFtcInBhaW5fcG9pbnRfaG9va1wiLCBcInByb2R1Y3RfcmVjb1wiLCBcInN0b3J5X2Vtb3Rpb25cIl0pLFxuICBwZXJzb25hOiB6XG4gICAgLmVudW0oW1wibmF0dXJhbFwiLCBcInByb2Zlc3Npb25hbFwiLCBcImZ1bm55XCIsIFwid2FybVwiXSlcbiAgICAub3B0aW9uYWwoKVxuICAgIC5kZWZhdWx0KFwibmF0dXJhbFwiKSxcbiAgbXVzdF9pbmNsdWRlOiB6LnN0cmluZygpLm1heCgyMDApLm9wdGlvbmFsKCkuZGVmYXVsdChcIlwiKSxcbiAgYXZvaWQ6IHouc3RyaW5nKCkubWF4KDIwMCkub3B0aW9uYWwoKS5kZWZhdWx0KFwiXCIpLFxufSk7XG5cbmNvbnN0IHNob3RTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHNob3Q6IHoubnVtYmVyKCkuaW50KCkucG9zaXRpdmUoKSxcbiAgc2VjOiB6Lm51bWJlcigpLmludCgpLnBvc2l0aXZlKCksXG4gIHZpc3VhbDogei5zdHJpbmcoKSxcbiAgY2FtZXJhOiB6LnN0cmluZygpLFxuICBzdWJ0aXRsZTogei5zdHJpbmcoKSxcbiAgYmdtX3NmeDogei5zdHJpbmcoKSxcbiAgdmVvX3Byb21wdDogei5zdHJpbmcoKSxcbiAgbmVnYXRpdmVfcHJvbXB0OiB6LnN0cmluZygpLFxufSk7XG5cbmV4cG9ydCBjb25zdCBzdG9yeWJvYXJkU2NoZW1hID0gei5vYmplY3Qoe1xuICBwbGF0Zm9ybTogei5lbnVtKFtcImRvdXlpblwiLCBcInNoaXBpbmhhb1wiLCBcInhpYW9ob25nc2h1XCJdKSxcbiAgZHVyYXRpb25fc2VjOiB6LnVuaW9uKFt6LmxpdGVyYWwoMTUpLCB6LmxpdGVyYWwoMzApLCB6LmxpdGVyYWwoNjApXSksXG4gIHRlbXBsYXRlOiB6LmVudW0oW1wicGFpbl9wb2ludF9ob29rXCIsIFwicHJvZHVjdF9yZWNvXCIsIFwic3RvcnlfZW1vdGlvblwiXSksXG4gIHN0eWxlOiB6LmxpdGVyYWwoXCJ0b19jX25hdHVyYWxcIiksXG4gIHRpdGxlczogei5hcnJheSh6LnN0cmluZygpKS5sZW5ndGgoMTApLFxuICBob29rOiB6LnN0cmluZygpLFxuICB2b2ljZW92ZXI6IHouc3RyaW5nKCksXG4gIGN0YTogei5zdHJpbmcoKSxcbiAgc2hvdHM6IHouYXJyYXkoc2hvdFNjaGVtYSksXG59KTtcblxuZXhwb3J0IHR5cGUgU3Rvcnlib2FyZFJlc3VsdCA9IHouaW5mZXI8dHlwZW9mIHN0b3J5Ym9hcmRTY2hlbWE+O1xuZXhwb3J0IHR5cGUgR2VuZXJhdGVSZXF1ZXN0ID0gei5pbmZlcjx0eXBlb2YgcmVxdWVzdFNjaGVtYT47XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja1Nob3RDb3VudHMoc2hvdHM6IFN0b3J5Ym9hcmRSZXN1bHRbXCJzaG90c1wiXSwgZHVyYXRpb246IFN0b3J5Ym9hcmRSZXN1bHRbXCJkdXJhdGlvbl9zZWNcIl0pOiBib29sZWFuIHtcbiAgY29uc3QgbGVuZ3RoID0gc2hvdHMubGVuZ3RoO1xuICBjb25zdCBydWxlczogUmVjb3JkPFN0b3J5Ym9hcmRSZXN1bHRbXCJkdXJhdGlvbl9zZWNcIl0sIFtudW1iZXIsIG51bWJlcl0+ID0ge1xuICAgIDE1OiBbNCwgNl0sXG4gICAgMzA6IFs2LCA5XSxcbiAgICA2MDogWzEwLCAxNF0sXG4gIH07XG4gIGNvbnN0IFttaW4sIG1heF0gPSBydWxlc1tkdXJhdGlvbl07XG4gIHJldHVybiBsZW5ndGggPj0gbWluICYmIGxlbmd0aCA8PSBtYXg7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja0R1cmF0aW9uKHNob3RzOiBTdG9yeWJvYXJkUmVzdWx0W1wic2hvdHNcIl0sIGR1cmF0aW9uOiBTdG9yeWJvYXJkUmVzdWx0W1wiZHVyYXRpb25fc2VjXCJdKTogYm9vbGVhbiB7XG4gIGNvbnN0IHRvdGFsID0gc2hvdHMucmVkdWNlKChhY2MsIHNob3QpID0+IGFjYyArIHNob3Quc2VjLCAwKTtcbiAgcmV0dXJuIE1hdGguYWJzKHRvdGFsIC0gZHVyYXRpb24pIDw9IDM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZVN0b3J5Ym9hcmQocGF5bG9hZDogdW5rbm93bik6IFN0b3J5Ym9hcmRSZXN1bHQge1xuICBjb25zdCBwYXJzZWQgPSBzdG9yeWJvYXJkU2NoZW1hLnBhcnNlKHBheWxvYWQpO1xuICBpZiAoIWNoZWNrU2hvdENvdW50cyhwYXJzZWQuc2hvdHMsIHBhcnNlZC5kdXJhdGlvbl9zZWMpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiU2hvdCBjb3VudCBkb2VzIG5vdCBtZWV0IGR1cmF0aW9uIHJ1bGVzXCIpO1xuICB9XG4gIGlmICghY2hlY2tEdXJhdGlvbihwYXJzZWQuc2hvdHMsIHBhcnNlZC5kdXJhdGlvbl9zZWMpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiU2hvdCBkdXJhdGlvbnMgZG8gbm90IHN1bSB0byBleHBlY3RlZCByYW5nZVwiKTtcbiAgfVxuICByZXR1cm4gcGFyc2VkO1xufVxuIl0sIm5hbWVzIjpbInoiLCJyZXF1ZXN0U2NoZW1hIiwib2JqZWN0IiwidG9waWMiLCJzdHJpbmciLCJtaW4iLCJtYXgiLCJwbGF0Zm9ybSIsImVudW0iLCJkdXJhdGlvbiIsInVuaW9uIiwibGl0ZXJhbCIsInRlbXBsYXRlIiwicGVyc29uYSIsIm9wdGlvbmFsIiwiZGVmYXVsdCIsIm11c3RfaW5jbHVkZSIsImF2b2lkIiwic2hvdFNjaGVtYSIsInNob3QiLCJudW1iZXIiLCJpbnQiLCJwb3NpdGl2ZSIsInNlYyIsInZpc3VhbCIsImNhbWVyYSIsInN1YnRpdGxlIiwiYmdtX3NmeCIsInZlb19wcm9tcHQiLCJuZWdhdGl2ZV9wcm9tcHQiLCJzdG9yeWJvYXJkU2NoZW1hIiwiZHVyYXRpb25fc2VjIiwic3R5bGUiLCJ0aXRsZXMiLCJhcnJheSIsImxlbmd0aCIsImhvb2siLCJ2b2ljZW92ZXIiLCJjdGEiLCJzaG90cyIsImNoZWNrU2hvdENvdW50cyIsInJ1bGVzIiwiY2hlY2tEdXJhdGlvbiIsInRvdGFsIiwicmVkdWNlIiwiYWNjIiwiTWF0aCIsImFicyIsInZhbGlkYXRlU3Rvcnlib2FyZCIsInBheWxvYWQiLCJwYXJzZWQiLCJwYXJzZSIsIkVycm9yIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/schema.ts\n");

/***/ }),

/***/ "(rsc)/./lib/vertex.ts":
/*!***********************!*\
  !*** ./lib/vertex.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getGenerativeModel: () => (/* binding */ getGenerativeModel),\n/* harmony export */   getVertexClient: () => (/* binding */ getVertexClient)\n/* harmony export */ });\n/* harmony import */ var node_fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! node:fs */ \"node:fs\");\n/* harmony import */ var node_fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(node_fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var node_path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! node:path */ \"node:path\");\n/* harmony import */ var node_path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(node_path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _google_cloud_vertexai__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @google-cloud/vertexai */ \"(rsc)/./node_modules/.pnpm/@google-cloud+vertexai@1.10.0/node_modules/@google-cloud/vertexai/build/src/index.js\");\n/* harmony import */ var _google_cloud_vertexai__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_google_cloud_vertexai__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nconst GOOGLE_PROJECT_ID = process.env.GOOGLE_CLOUD_PROJECT || process.env.GCP_PROJECT_ID || process.env.GOOGLE_PROJECT_ID;\nconst VERTEX_LOCATION = process.env.VERTEXAI_LOCATION || process.env.GOOGLE_CLOUD_LOCATION || \"us-central1\";\nconst VERTEX_ENDPOINT = process.env.VERTEXAI_API_ENDPOINT;\nconst INLINE_CREDENTIALS = process.env.VERTEXAI_CREDENTIALS_JSON || process.env.GOOGLE_APPLICATION_CREDENTIALS_JSON;\nconst SERVICE_ACCOUNT_PATH = process.env.GOOGLE_APPLICATION_CREDENTIALS;\nlet vertexClient = null;\nfunction getVertexClient() {\n    if (!GOOGLE_PROJECT_ID) {\n        throw new Error(\"GOOGLE_CLOUD_PROJECT ( GCP_PROJECT_ID / GOOGLE_PROJECT_ID) \");\n    }\n    if (!vertexClient) {\n        const options = {\n            project: GOOGLE_PROJECT_ID,\n            location: VERTEX_LOCATION\n        };\n        if (VERTEX_ENDPOINT) {\n            options.apiEndpoint = VERTEX_ENDPOINT;\n        }\n        const inlineCreds = resolveInlineCredentials();\n        if (inlineCreds) {\n            options.credentials = inlineCreds;\n        } else {\n            sanitizeMissingCredentialPath();\n        }\n        vertexClient = new _google_cloud_vertexai__WEBPACK_IMPORTED_MODULE_2__.VertexAI(options);\n    }\n    return vertexClient;\n}\nfunction getGenerativeModel(model) {\n    return getVertexClient().getGenerativeModel({\n        model\n    });\n}\nfunction resolveInlineCredentials() {\n    if (!INLINE_CREDENTIALS) return undefined;\n    try {\n        return JSON.parse(INLINE_CREDENTIALS);\n    } catch (error) {\n        throw new Error(\"VERTEXAI_CREDENTIALS_JSON/GOOGLE_APPLICATION_CREDENTIALS_JSON  JSON\");\n    }\n}\nfunction sanitizeMissingCredentialPath() {\n    if (!SERVICE_ACCOUNT_PATH) return;\n    try {\n        const resolvedPath = node_path__WEBPACK_IMPORTED_MODULE_1___default().isAbsolute(SERVICE_ACCOUNT_PATH) ? SERVICE_ACCOUNT_PATH : node_path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), SERVICE_ACCOUNT_PATH);\n        if (!node_fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(resolvedPath)) {\n            console.warn(`[vertex-ai] GOOGLE_APPLICATION_CREDENTIALS ${resolvedPath}ADC`);\n            delete process.env.GOOGLE_APPLICATION_CREDENTIALS;\n        }\n    } catch  {\n        delete process.env.GOOGLE_APPLICATION_CREDENTIALS;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvdmVydGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXlCO0FBQ0k7QUFDcUI7QUFFbEQsTUFBTUcsb0JBQ0pDLFFBQVFDLEdBQUcsQ0FBQ0Msb0JBQW9CLElBQ2hDRixRQUFRQyxHQUFHLENBQUNFLGNBQWMsSUFDMUJILFFBQVFDLEdBQUcsQ0FBQ0YsaUJBQWlCO0FBRS9CLE1BQU1LLGtCQUNKSixRQUFRQyxHQUFHLENBQUNJLGlCQUFpQixJQUFJTCxRQUFRQyxHQUFHLENBQUNLLHFCQUFxQixJQUFJO0FBRXhFLE1BQU1DLGtCQUFrQlAsUUFBUUMsR0FBRyxDQUFDTyxxQkFBcUI7QUFDekQsTUFBTUMscUJBQ0pULFFBQVFDLEdBQUcsQ0FBQ1MseUJBQXlCLElBQUlWLFFBQVFDLEdBQUcsQ0FBQ1UsbUNBQW1DO0FBQzFGLE1BQU1DLHVCQUF1QlosUUFBUUMsR0FBRyxDQUFDWSw4QkFBOEI7QUFFdkUsSUFBSUMsZUFBZ0M7QUFFN0IsU0FBU0M7SUFDZCxJQUFJLENBQUNoQixtQkFBbUI7UUFDdEIsTUFBTSxJQUFJaUIsTUFBTTtJQUNsQjtJQUNBLElBQUksQ0FBQ0YsY0FBYztRQUNqQixNQUFNRyxVQUtGO1lBQ0ZDLFNBQVNuQjtZQUNUb0IsVUFBVWY7UUFDWjtRQUNBLElBQUlHLGlCQUFpQjtZQUNuQlUsUUFBUUcsV0FBVyxHQUFHYjtRQUN4QjtRQUNBLE1BQU1jLGNBQWNDO1FBQ3BCLElBQUlELGFBQWE7WUFDZkosUUFBUU0sV0FBVyxHQUFHRjtRQUN4QixPQUFPO1lBQ0xHO1FBQ0Y7UUFDQVYsZUFBZSxJQUFJaEIsNERBQVFBLENBQUNtQjtJQUM5QjtJQUNBLE9BQU9IO0FBQ1Q7QUFFTyxTQUFTVyxtQkFBbUJDLEtBQWE7SUFDOUMsT0FBT1gsa0JBQWtCVSxrQkFBa0IsQ0FBQztRQUFFQztJQUFNO0FBQ3REO0FBRUEsU0FBU0o7SUFNUCxJQUFJLENBQUNiLG9CQUFvQixPQUFPa0I7SUFDaEMsSUFBSTtRQUNGLE9BQU9DLEtBQUtDLEtBQUssQ0FBQ3BCO0lBQ3BCLEVBQUUsT0FBT3FCLE9BQU87UUFDZCxNQUFNLElBQUlkLE1BQU07SUFDbEI7QUFDRjtBQUVBLFNBQVNRO0lBQ1AsSUFBSSxDQUFDWixzQkFBc0I7SUFDM0IsSUFBSTtRQUNGLE1BQU1tQixlQUFlbEMsMkRBQWUsQ0FBQ2Usd0JBQ2pDQSx1QkFDQWYscURBQVMsQ0FBQ0csUUFBUWtDLEdBQUcsSUFBSXRCO1FBQzdCLElBQUksQ0FBQ2hCLHlEQUFhLENBQUNtQyxlQUFlO1lBQ2hDSyxRQUFRQyxJQUFJLENBQ1YsQ0FBQyxvREFBb0QsRUFBRU4sYUFBYSxlQUFlLENBQUM7WUFFdEYsT0FBTy9CLFFBQVFDLEdBQUcsQ0FBQ1ksOEJBQThCO1FBQ25EO0lBQ0YsRUFBRSxPQUFNO1FBQ04sT0FBT2IsUUFBUUMsR0FBRyxDQUFDWSw4QkFBOEI7SUFDbkQ7QUFDRiIsInNvdXJjZXMiOlsiL1VzZXJzL3lpbmdiaW4vRG9jdW1lbnRzL2NvZGVzL2FpUHJvL3Zlb0xhYi9saWIvdmVydGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmcyBmcm9tIFwibm9kZTpmc1wiO1xuaW1wb3J0IHBhdGggZnJvbSBcIm5vZGU6cGF0aFwiO1xuaW1wb3J0IHsgVmVydGV4QUkgfSBmcm9tIFwiQGdvb2dsZS1jbG91ZC92ZXJ0ZXhhaVwiO1xuXG5jb25zdCBHT09HTEVfUFJPSkVDVF9JRCA9XG4gIHByb2Nlc3MuZW52LkdPT0dMRV9DTE9VRF9QUk9KRUNUIHx8XG4gIHByb2Nlc3MuZW52LkdDUF9QUk9KRUNUX0lEIHx8XG4gIHByb2Nlc3MuZW52LkdPT0dMRV9QUk9KRUNUX0lEO1xuXG5jb25zdCBWRVJURVhfTE9DQVRJT04gPVxuICBwcm9jZXNzLmVudi5WRVJURVhBSV9MT0NBVElPTiB8fCBwcm9jZXNzLmVudi5HT09HTEVfQ0xPVURfTE9DQVRJT04gfHwgXCJ1cy1jZW50cmFsMVwiO1xuXG5jb25zdCBWRVJURVhfRU5EUE9JTlQgPSBwcm9jZXNzLmVudi5WRVJURVhBSV9BUElfRU5EUE9JTlQ7XG5jb25zdCBJTkxJTkVfQ1JFREVOVElBTFMgPVxuICBwcm9jZXNzLmVudi5WRVJURVhBSV9DUkVERU5USUFMU19KU09OIHx8IHByb2Nlc3MuZW52LkdPT0dMRV9BUFBMSUNBVElPTl9DUkVERU5USUFMU19KU09OO1xuY29uc3QgU0VSVklDRV9BQ0NPVU5UX1BBVEggPSBwcm9jZXNzLmVudi5HT09HTEVfQVBQTElDQVRJT05fQ1JFREVOVElBTFM7XG5cbmxldCB2ZXJ0ZXhDbGllbnQ6IFZlcnRleEFJIHwgbnVsbCA9IG51bGw7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRWZXJ0ZXhDbGllbnQoKTogVmVydGV4QUkge1xuICBpZiAoIUdPT0dMRV9QUk9KRUNUX0lEKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiR09PR0xFX0NMT1VEX1BST0pFQ1QgKOaIliBHQ1BfUFJPSkVDVF9JRCAvIEdPT0dMRV9QUk9KRUNUX0lEKSDmnKrphY3nva5cIik7XG4gIH1cbiAgaWYgKCF2ZXJ0ZXhDbGllbnQpIHtcbiAgICBjb25zdCBvcHRpb25zOiB7XG4gICAgICBwcm9qZWN0OiBzdHJpbmc7XG4gICAgICBsb2NhdGlvbjogc3RyaW5nO1xuICAgICAgYXBpRW5kcG9pbnQ/OiBzdHJpbmc7XG4gICAgICBjcmVkZW50aWFscz86IHsgY2xpZW50X2VtYWlsPzogc3RyaW5nOyBwcml2YXRlX2tleT86IHN0cmluZyB9O1xuICAgIH0gPSB7XG4gICAgICBwcm9qZWN0OiBHT09HTEVfUFJPSkVDVF9JRCxcbiAgICAgIGxvY2F0aW9uOiBWRVJURVhfTE9DQVRJT04sXG4gICAgfTtcbiAgICBpZiAoVkVSVEVYX0VORFBPSU5UKSB7XG4gICAgICBvcHRpb25zLmFwaUVuZHBvaW50ID0gVkVSVEVYX0VORFBPSU5UO1xuICAgIH1cbiAgICBjb25zdCBpbmxpbmVDcmVkcyA9IHJlc29sdmVJbmxpbmVDcmVkZW50aWFscygpO1xuICAgIGlmIChpbmxpbmVDcmVkcykge1xuICAgICAgb3B0aW9ucy5jcmVkZW50aWFscyA9IGlubGluZUNyZWRzO1xuICAgIH0gZWxzZSB7XG4gICAgICBzYW5pdGl6ZU1pc3NpbmdDcmVkZW50aWFsUGF0aCgpO1xuICAgIH1cbiAgICB2ZXJ0ZXhDbGllbnQgPSBuZXcgVmVydGV4QUkob3B0aW9ucyk7XG4gIH1cbiAgcmV0dXJuIHZlcnRleENsaWVudDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEdlbmVyYXRpdmVNb2RlbChtb2RlbDogc3RyaW5nKSB7XG4gIHJldHVybiBnZXRWZXJ0ZXhDbGllbnQoKS5nZXRHZW5lcmF0aXZlTW9kZWwoeyBtb2RlbCB9KTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZUlubGluZUNyZWRlbnRpYWxzKCk6XG4gIHwge1xuICAgICAgY2xpZW50X2VtYWlsPzogc3RyaW5nO1xuICAgICAgcHJpdmF0ZV9rZXk/OiBzdHJpbmc7XG4gICAgfVxuICB8IHVuZGVmaW5lZCB7XG4gIGlmICghSU5MSU5FX0NSRURFTlRJQUxTKSByZXR1cm4gdW5kZWZpbmVkO1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKElOTElORV9DUkVERU5USUFMUyk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVkVSVEVYQUlfQ1JFREVOVElBTFNfSlNPTi9HT09HTEVfQVBQTElDQVRJT05fQ1JFREVOVElBTFNfSlNPTiDkuI3mmK/lkIjms5UgSlNPTlwiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzYW5pdGl6ZU1pc3NpbmdDcmVkZW50aWFsUGF0aCgpIHtcbiAgaWYgKCFTRVJWSUNFX0FDQ09VTlRfUEFUSCkgcmV0dXJuO1xuICB0cnkge1xuICAgIGNvbnN0IHJlc29sdmVkUGF0aCA9IHBhdGguaXNBYnNvbHV0ZShTRVJWSUNFX0FDQ09VTlRfUEFUSClcbiAgICAgID8gU0VSVklDRV9BQ0NPVU5UX1BBVEhcbiAgICAgIDogcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksIFNFUlZJQ0VfQUNDT1VOVF9QQVRIKTtcbiAgICBpZiAoIWZzLmV4aXN0c1N5bmMocmVzb2x2ZWRQYXRoKSkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBgW3ZlcnRleC1haV0gR09PR0xFX0FQUExJQ0FUSU9OX0NSRURFTlRJQUxTIOaMh+WQkeeahOaWh+S7tuS4jeWtmOWcqO+8miR7cmVzb2x2ZWRQYXRofe+8jOWwhuWbnumAgOWIsOm7mOiupOWHreivge+8iEFEQ++8ieOAgmBcbiAgICAgICk7XG4gICAgICBkZWxldGUgcHJvY2Vzcy5lbnYuR09PR0xFX0FQUExJQ0FUSU9OX0NSRURFTlRJQUxTO1xuICAgIH1cbiAgfSBjYXRjaCB7XG4gICAgZGVsZXRlIHByb2Nlc3MuZW52LkdPT0dMRV9BUFBMSUNBVElPTl9DUkVERU5USUFMUztcbiAgfVxufVxuIl0sIm5hbWVzIjpbImZzIiwicGF0aCIsIlZlcnRleEFJIiwiR09PR0xFX1BST0pFQ1RfSUQiLCJwcm9jZXNzIiwiZW52IiwiR09PR0xFX0NMT1VEX1BST0pFQ1QiLCJHQ1BfUFJPSkVDVF9JRCIsIlZFUlRFWF9MT0NBVElPTiIsIlZFUlRFWEFJX0xPQ0FUSU9OIiwiR09PR0xFX0NMT1VEX0xPQ0FUSU9OIiwiVkVSVEVYX0VORFBPSU5UIiwiVkVSVEVYQUlfQVBJX0VORFBPSU5UIiwiSU5MSU5FX0NSRURFTlRJQUxTIiwiVkVSVEVYQUlfQ1JFREVOVElBTFNfSlNPTiIsIkdPT0dMRV9BUFBMSUNBVElPTl9DUkVERU5USUFMU19KU09OIiwiU0VSVklDRV9BQ0NPVU5UX1BBVEgiLCJHT09HTEVfQVBQTElDQVRJT05fQ1JFREVOVElBTFMiLCJ2ZXJ0ZXhDbGllbnQiLCJnZXRWZXJ0ZXhDbGllbnQiLCJFcnJvciIsIm9wdGlvbnMiLCJwcm9qZWN0IiwibG9jYXRpb24iLCJhcGlFbmRwb2ludCIsImlubGluZUNyZWRzIiwicmVzb2x2ZUlubGluZUNyZWRlbnRpYWxzIiwiY3JlZGVudGlhbHMiLCJzYW5pdGl6ZU1pc3NpbmdDcmVkZW50aWFsUGF0aCIsImdldEdlbmVyYXRpdmVNb2RlbCIsIm1vZGVsIiwidW5kZWZpbmVkIiwiSlNPTiIsInBhcnNlIiwiZXJyb3IiLCJyZXNvbHZlZFBhdGgiLCJpc0Fic29sdXRlIiwiam9pbiIsImN3ZCIsImV4aXN0c1N5bmMiLCJjb25zb2xlIiwid2FybiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/vertex.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@15.0.3_react-dom@18.3.1_react@18.3.1__react@18.3.1","vendor-chunks/google-auth-library@9.15.1","vendor-chunks/@google-cloud+vertexai@1.10.0","vendor-chunks/uuid@9.0.1","vendor-chunks/gaxios@6.7.1","vendor-chunks/whatwg-url@5.0.0","vendor-chunks/jws@4.0.1","vendor-chunks/debug@4.4.3","vendor-chunks/json-bigint@1.0.0","vendor-chunks/google-logging-utils@0.0.2","vendor-chunks/tr46@0.0.3","vendor-chunks/https-proxy-agent@7.0.6","vendor-chunks/gcp-metadata@6.1.1","vendor-chunks/ecdsa-sig-formatter@1.0.11","vendor-chunks/agent-base@7.1.4","vendor-chunks/zod@3.23.8","vendor-chunks/node-fetch@2.7.0","vendor-chunks/webidl-conversions@3.0.1","vendor-chunks/supports-color@7.2.0","vendor-chunks/safe-buffer@5.2.1","vendor-chunks/ms@2.1.3","vendor-chunks/jwa@2.0.1","vendor-chunks/is-stream@2.0.1","vendor-chunks/has-flag@4.0.0","vendor-chunks/gtoken@7.1.0","vendor-chunks/extend@3.0.2","vendor-chunks/buffer-equal-constant-time@1.0.1","vendor-chunks/bignumber.js@9.3.1","vendor-chunks/base64-js@1.5.1"], () => (__webpack_exec__("(rsc)/./node_modules/.pnpm/next@15.0.3_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fgenerate%2Froute&page=%2Fapi%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate%2Froute.ts&appDir=%2FUsers%2Fyingbin%2FDocuments%2Fcodes%2FaiPro%2FveoLab%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fyingbin%2FDocuments%2Fcodes%2FaiPro%2FveoLab&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();